(this.webpackJsonpcourse=this.webpackJsonpcourse||[]).push([[0],{251:function(e,a,t){e.exports=t(502)},256:function(e,a,t){},266:function(e,a,t){},499:function(e,a){},502:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(13),i=t.n(c),o=(t(256),t(564)),l=t(565),u=t(505),m=t(221),s=t.n(m),d=t(133),p=t(560),g={ruRU:{pageName:{main:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",campaings:"\u041a\u0430\u043c\u043f\u0430\u043d\u0438\u0438",registration:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}},enUS:{pageName:{main:"Main",campaings:"Campaings",registration:"Sign In"}}},E=t(12),f=t.n(E),b=t(24),v=t(90),h=t(26);function w(e){return e.user.isAuthenticated}function O(e){return e.user.name}function j(e){return e.user.id}var C=new(t(219).a)({domain:"winter-waterfall-5281.auth0.com",client_id:"winter-waterfall-5281.auth0.com",redirect_uri:"http://".concat(window.location.host,"/auth"),cacheLocation:"localstorage",useRefreshTokens:!0,audience:"https://itrcourse.herokuapp.com/"});function y(e){return{isAuthenticated:w(e),name:O(e)}}var x=function(e){return Object(h.b)(y)((function(a){var t=a.isAuthenticated,c=a.name,i=a.dispatch,o=Object(v.a)(a,["isAuthenticated","name","dispatch"]),l=Object(n.useCallback)(Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.logout();case 2:case"end":return e.stop()}}),e)}))),[]);return r.a.createElement(e,Object.assign({onLogout:l,isAuthenticated:t,name:c,dispatch:i},o))}))},R=t(558),k=t(583),U=t(55),N=t.n(U),S={ruRU:{signIn:"\u0412\u043e\u0439\u0442\u0438",signUp:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},enUS:{signIn:"Sign In",signUp:"Sign Up"}};function L(e){var a=e.locale,t=void 0===a?"enUS":a,n=e.className,c=S[t];return r.a.createElement(k.a,null,r.a.createElement(R.a,{className:N()(n),onClick:Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.loginWithRedirect();case 2:case"end":return e.stop()}}),e)}))),"aria-label":"sign in"},c.signIn))}var D=t(132),T=t(227),P=t(563),M=t(125),I=t.n(M),W=t(127),A=t.n(W),B=t(561),F=Object(p.a)({iconWrapper:{marginRight:"0.5em"}});function G(e){var a=e.icon,t=e.text,n=e.classes,c=void 0===n?{root:"",iconWrapper:"",label:"",labelWrapper:""}:n,i=F();return r.a.createElement(B.a,{container:!0,className:N()(c.root),wrap:"nowrap"},r.a.createElement(B.a,{item:!0,className:N()(i.iconWrapper,c.iconWrapper)},a),r.a.createElement(B.a,{item:!0,className:N()(c.labelWrapper)},r.a.createElement(d.a,{className:N()(c.label)},t)))}var Y={ruRU:{logout:"\u0412\u044b\u0439\u0442\u0438"},enUS:{logout:"Logout"}},H=Object(p.a)((function(e){return{button:{color:e.palette.primary.contrastText},menuUsernameText:{marginLeft:"0.5em"}}}));function _(e){var a=e.locale,t=void 0===a?"enUS":a,c=e.name,i=e.onProfile,o=e.onLogout,l=H(),u=Object(n.useState)(null),m=Object(D.a)(u,2),s=m[0],p=m[1],g=Y[t];return r.a.createElement(k.a,null,r.a.createElement(R.a,{className:l.button,onClick:function(e){return p(e.currentTarget)}},c),r.a.createElement(T.a,{open:Boolean(s),anchorEl:s,onClose:function(){return p(null)}},r.a.createElement(P.a,{onClick:i},r.a.createElement(G,{icon:r.a.createElement(I.a,null),text:c})),r.a.createElement(P.a,{onClick:o},r.a.createElement(A.a,null),r.a.createElement(d.a,{className:l.menuUsernameText},g.logout))))}var q=Object(p.a)((function(e){return{button:{color:e.palette.primary.contrastText}}})),J=function(e){var a=q();return r.a.createElement(L,Object.assign({className:a.button},e))},$=x((function(e){var a=e.isAuthenticated,t=e.name,n=e.onLogout,c=a?_:J;return r.a.createElement(c,{name:t,onLogout:n})})),z=t(586),V=Object(p.a)((function(e){return{menuButton:{color:e.palette.primary.contrastText},pageName:{marginLeft:"1em",flexGrow:"1",flexShrink:"1"}}}));function K(e){var a=e.locale,t=void 0===a?"enUS":a,n=e.onMenuButtonClick,c=e.pageName,i=V(),m=g[t];return r.a.createElement(o.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(u.a,{className:i.menuButton,"aria-label":"menu",onClick:n},r.a.createElement(s.a,null)),r.a.createElement(d.a,{className:i.pageName,variant:"h6"},m.pageName[c]),r.a.createElement(z.a,{xsDown:!0},r.a.createElement($,null))))}var Q=t(15),X=Object(Q.b)("menu/toggle");var Z=Object(h.b)()((function(e){var a=e.pageName,t=e.dispatch;return r.a.createElement(K,{pageName:a,onMenuButtonClick:function(){return t(X())}})})),ee=Object(Q.b)("user/login",(function(e,a){return{payload:{id:e,name:a}}})),ae=t(20),te=Object(h.b)()((function(e){var a=e.dispatch,t=Object(ae.f)();return Object(n.useEffect)((function(){C.handleRedirectCallback().then((function(){C.getUser().then((function(e){a(ee(e.sub,e.name)),t.push("/")}))}))})),r.a.createElement("div",null)}));function ne(e){return e.mainMenu}var re=t(594),ce=t(562),ie=t(50),oe=t.n(ie),le=t(571),ue=t(504),me=t(566),se=t(567),de=t(75);function pe(e){var a=e.to,t=e.icon,n=e.text,c=t;return r.a.createElement(ue.a,{button:!0,component:de.b,to:a},r.a.createElement(me.a,null,r.a.createElement(c,null)),r.a.createElement(se.a,null,n))}var ge=t(222),Ee=t.n(ge),fe=t(223),be=t.n(fe),ve=t(589),he=t(568),we=t(569),Oe={ruRU:{profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",logout:"\u0412\u044b\u0439\u0442\u0438"},enUS:{profile:"Profile",logout:"Logout"}},je=Object(p.a)({root:{boxShadow:"none"}});function Ce(e){var a=e.name,t=e.onLogout,n=e.locale,c=Oe[void 0===n?"enUS":n],i=je();return r.a.createElement(k.a,null,r.a.createElement(ve.a,{square:!0,classes:{root:i.root}},r.a.createElement(he.a,null,r.a.createElement(d.a,null,a)),r.a.createElement(we.a,null,r.a.createElement(ce.a,null,r.a.createElement(ue.a,{button:!0},r.a.createElement(G,{icon:r.a.createElement(I.a,null),text:c.profile})),r.a.createElement(ue.a,{button:!0,onClick:t},r.a.createElement(G,{icon:r.a.createElement(A.a,null),text:c.logout}))))))}var ye=Object(p.a)({button:{width:"100%"}}),xe=function(e){var a=ye();return r.a.createElement(L,Object.assign({className:a.button},e))},Re=x((function(e){var a=e.name,t=e.isAuthenticated,n=e.onLogout,c=t?Ce:xe;return r.a.createElement(c,{name:a,onLogout:n})})),ke={ruRU:{page:{main:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",campaings:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}},enUS:{page:{main:"Main",campaings:"Create new company"}}},Ue=Object(p.a)({surface:{width:"100vw",maxWidth:"360px"},closeButton:{width:"100%"}});function Ne(e){var a=e.locale,t=void 0===a?"enUS":a,n=e.isOpen,c=e.onClose,i=Ue(),o=ke[t];return r.a.createElement(re.a,{anchor:"left",open:n,onClose:c},r.a.createElement(ce.a,{className:i.surface,component:"nav"},r.a.createElement(R.a,{className:i.closeButton,onClick:c},r.a.createElement(oe.a,null)),r.a.createElement(le.a,null),r.a.createElement(z.a,{smUp:!0},r.a.createElement(Re,null),r.a.createElement(le.a,null)),r.a.createElement(pe,{to:"/",icon:Ee.a,text:o.page.main}),r.a.createElement(pe,{to:"/campaign/create",icon:be.a,text:o.page.campaings})))}t(266);var Se,Le=t(6),De=t(93),Te=(t(267),t(68)),Pe=t.n(Te),Me=t(87),Ie=t.n(Me),We="education",Ae="sport",Be="health",Fe=(Date.UTC(2020,6,6),t(51)),Ge=Object(p.a)({button:{position:"absolute",top:"0",height:"100%",backgroundColor:"transparent",border:"none",outline:"none","&:hover":{backgroundColor:"rgba(0,0,0,0.2)"},"&:active":{backgroundColor:"rgba(0,0,0,0.4)"}},right:{right:"0"},left:{left:"0"},wrapper:{position:"relative",width:"100%"},image:{objectFit:"contain"},icon:{color:"black"}});var Ye=(Se={},Object(Le.a)(Se,"image",(function(e){var a=e.src;return r.a.createElement(Fe.Image,{publicId:a,width:"100%"})})),Object(Le.a)(Se,"video",(function(e){var a=e.src;return r.a.createElement(Ie.a,{url:a,width:"100%",height:"100%"})})),Se);function He(e){var a=e.type,t=e.url,n=Ye[a];return r.a.createElement(De.d,null,r.a.createElement(n,{src:t}))}function _e(e){var a=e.value,t=Ge();return r.a.createElement(k.a,{className:t.wrapper},r.a.createElement(De.c,{naturalSlideWidth:2,naturalSlideHeight:1,totalSlides:a.length,infinite:!0},r.a.createElement(De.e,null,a.map((function(e){return r.a.createElement(He,Object.assign({key:e.src},e))}))),r.a.createElement(De.a,{className:N()(t.button,t.left)},r.a.createElement(oe.a,{className:t.icon})),r.a.createElement(De.b,{className:N()(t.button,t.right)},r.a.createElement(Pe.a,{className:t.icon}))))}function qe(){return r.a.createElement("div",null)}var Je=t(88),$e=t.n(Je),ze=Object(p.a)({root:{marginTop:"0.5em"}}),Ve={ruRU:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},enUS:{description:"Description"}};function Ke(e){var a=e.locale,t=void 0===a?"enUS":a,n=e.value,c=Ve[t],i=ze();return r.a.createElement(k.a,{className:i.root},r.a.createElement(d.a,{variant:"h4"},c.description),r.a.createElement($e.a,{source:n}))}var Qe=t(572),Xe=t(32),Ze=t(102),ea=Object(Q.d)(!1,Object(Le.a)({},X,(function(e){return!e}))),aa=Object(Q.d)({isAuthenticated:!1,name:void 0,id:void 0},Object(Le.a)({},ee,(function(e,a){return{isAuthenticated:!0,name:a.payload.name,id:a.payload.id}}))),ta=t(9),na=t(44),ra=t(43),ca=t(103),ia=t.n(ca);function oa(){return la.apply(this,arguments)}function la(){return(la=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia()("/api/campaignTypes");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e){return ma.apply(this,arguments)}function ma(){return(ma=Object(b.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia()("/api/campaign/".concat(a));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(){return da.apply(this,arguments)}function da(){return(da=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia()("/api/campaigns");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,a,t,n,r,c,i){return ga.apply(this,arguments)}function ga(){return(ga=Object(b.a)(f.a.mark((function e(a,t,n,r,c,i,o){var l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getTokenSilently();case 2:l=e.sent,ia()("/api/campaign/update",{method:"post",headers:{Authorization:"Bearer ".concat(l)},data:{id:a,type:t,avatar:n,locale:r,goal:c,mediaContent:i,rewards:o}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,a){var t={};return Object.keys(e).forEach((function(n){t=Object(ta.a)(Object(ta.a)({},t),{},Object(Le.a)({},n,e[n][a]))})),t}function fa(e){return Ea(e,"description")}var ba,va,ha,wa=Object(Q.c)("campaign/initPage",function(){var e=Object(b.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(a);case 2:return t=e.sent,c=t.locale,n=Ea(c,"name"),r=fa(t.locale),e.abrupt("return",{label:n,owner:t.owner,media:t.media,goal:{goal:t.goal.goal,current:0,finishDate:new Date(t.goal.date)},description:r,rewards:t.rewards});case 6:case"end":return e.stop()}var c}),e)})));return function(a){return e.apply(this,arguments)}}()),Oa=Object(Q.e)({name:"campaign/data",initialState:{label:{},averageRating:0,userRating:0,media:[],goal:{goal:0,current:0,finishDate:Date.now()},description:{},rewards:[],owner:""},reducers:{setLabel:function(e,a){e.label=a.payload},setUserRating:function(e,a){e.userRating=a.payload},setMedia:function(e,a){e.media=a.payload}},extraReducers:Object(Le.a)({},wa.fulfilled,(function(e,a){return Object(ta.a)({},a.payload)}))}),ja={setUserRating:Oa.actions.setUserRating,initPage:wa},Ca=Object(na.a)((function(e){return e.campaign}),(function(e){return e.data})),ya=Object(na.a)(Ca,(function(e){return e.label})),xa=Object(na.a)(Ca,(function(e){return e.userRating})),Ra=Object(na.a)(Ca,(function(e){return e.averageRating})),ka=Object(na.a)(Ca,(function(e){return e.media})),Ua=Object(na.a)(Ca,(function(e){return e.goal})),Na={label:ya,userRating:xa,averageRating:Ra,media:ka,goalSum:Object(na.a)(Ua,(function(e){return e.goal})),goalCurrent:Object(na.a)(Ua,(function(e){return e.current})),goalEndDate:Object(na.a)(Ua,(function(e){return e.finishDate})),description:Object(na.a)(Ca,(function(e){return e.description})),rewards:Object(na.a)(Ca,(function(e){return e.rewards})),owner:Object(na.a)(Ca,(function(e){return e.owner}))},Sa=Object(ra.c)({data:Oa.reducer}),La=Object(Q.c)("editCampaign/data/send",function(){var e=Object(b.a)(f.a.mark((function e(a,t){var n,r,c,i,o,l,u,m,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getState,c=Ha(r()),i=Aa(r()),o=et(r()).map((function(e){return Za(r())[e]})),l=at(r()),u=l.rewardOrder.map((function(e){return l.rewards[e]})),m=Fa(r()),s=qa(r()),e.next=10,pa(Wa(r()),m,s,(n={},Object(Le.a)(n,"enUS",{name:i.enUS,description:c.enUS}),Object(Le.a)(n,"ruRU",{name:i.ruRU,description:c.ruRU}),n),{goal:$a(r()),date:Ja(r())},o,u);case 10:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());function Da(e,a){var t={};return Object.keys(e).forEach((function(n){t=Object(ta.a)(Object(ta.a)({},t),{},Object(Le.a)({},n,e[n][a]))})),t}function Ta(e){return Da(e,"description")}var Pa=Object(Q.c)("editCampaign/data/get",function(){var e=Object(b.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(a);case 2:return t=e.sent,e.abrupt("return",{id:t.id,name:(n=t.locale,Da(n,"name")),campaignType:t.type,description:Ta(t.locale),avatar:t.avatar,goalSum:t.goal.goal,goalFinishDate:t.goal.date,mediaContent:t.media,rewards:t.rewards});case 4:case"end":return e.stop()}var n}),e)})));return function(a){return e.apply(this,arguments)}}()),Ma=Object(Q.e)({name:"editCampaign/data",initialState:{id:void 0,name:(ba={},Object(Le.a)(ba,"enUS",""),Object(Le.a)(ba,"ruRU",""),ba),nameLocale:"enUS",campaignType:We,descriptionLocale:"enUS",description:(va={},Object(Le.a)(va,"enUS",""),Object(Le.a)(va,"ruRU",""),va),avatar:void 0,goalFinishDate:new Date,goalSum:"",mediaContent:{newElem:{type:"image",url:"",position:0},elems:{},elemsOrder:[]},rewards:{locale:["enUS"],newElem:(ha={},Object(Le.a)(ha,"ruRU",{name:"",description:""}),Object(Le.a)(ha,"enUS",{name:"",description:""}),Object(Le.a)(ha,"cost",0),ha),rewards:{},rewardOrder:[]}},reducers:{setName:function(e,a){e.name[e.nameLocale]=a.payload},setCampaignType:function(e,a){e.campaignType=a.payload},setNameLocale:function(e,a){e.nameLocale=a.payload},setDescriptionLocale:function(e,a){e.descriptionLocale=a.payload},setDescription:function(e,a){e.description[e.descriptionLocale]=a.payload},setAvatar:function(e,a){e.avatar=a.payload},setGoalFinishDate:function(e,a){e.goalFinishDate=a.payload},setGoalSum:function(e,a){/^[\d]*$/g.test(a.payload)&&(e.goalSum=a.payload)},setMediaContentNewElemType:function(e,a){e.mediaContent.newElem.type=a.payload},setMediaContentNewElemUrl:function(e,a){e.mediaContent.newElem.url=a.payload},setMediaContentNewElemPosition:function(e,a){var t=e.mediaContent.elemsOrder.length;t<a.payload?e.mediaContent.newElem.position=t:a.payload<0?e.mediaContent.newElem.position=0:e.mediaContent.newElem.position=a.payload},addMediaContent:function(e,a){var t=e.mediaContent.newElem,n=t.url,r=t.position,c=t.type;e.mediaContent.elems=Object(ta.a)(Object(ta.a)({},e.mediaContent.elems),{},Object(Le.a)({},n,{type:c,url:n})),e.mediaContent.elemsOrder=[].concat(Object(Xe.a)(e.mediaContent.elemsOrder.slice(0,r)),[n],Object(Xe.a)(e.mediaContent.elemsOrder.slice(r)))},clearMediaContentNewElem:function(e,a){e.mediaContent.newElem={type:"image",url:"",position:0}},removeMediaContent:function(e,a){var t=Object(ta.a)({},e.mediaContent.elems),n=0;delete t[a.payload],e.mediaContent.elems=t,e.mediaContent.elemsOrder.forEach((function(e,t){e===a.payload&&(n=t)})),e.mediaContent.elemsOrder=[].concat(Object(Xe.a)(e.mediaContent.elemsOrder.slice(0,n)),Object(Xe.a)(e.mediaContent.elemsOrder.slice(n+1)))},changeMediaContentPosition:function(e,a){var t,n,r=a.payload.position,c=a.payload.url,i=Object(Xe.a)(e.mediaContent.elemsOrder);r>=0&&r<i.length&&(i.forEach((function(e,a){e===c&&(t=a)})),n=i[r],i[r]=i[t],i[t]=n,e.mediaContent.elemsOrder=i)},setRewardsLocale:function(e,a){e.rewards.locale=a.payload},setRewardsNewElemName:function(e,a){var t=e.rewards.locale;e.rewards.newElem[t].name=a.payload},setRewardsNewElemDescription:function(e,a){var t=e.rewards.locale;e.rewards.newElem[t].description=a.payload},setRewardsNewElemCost:function(e,a){a.payload>-1&&(e.rewards.newElem.cost=a.payload)},addReward:function(e){var a=e.rewards,t=a.newElem.enUS.name||a.newElem.ruRU.name;t&&!a.rewards[t]&&(e.rewards.rewards=Object(ta.a)(Object(ta.a)({},a.rewards),{},Object(Le.a)({},t,Object(ta.a)({},a.newElem))),e.rewards.rewardOrder.push(t))},changeRewardPosition:function(e,a){var t,n,r=a.payload,c=r.id,i=r.position,o=Object(Xe.a)(e.rewards.rewardOrder),l=o.length;if(i<l&&i>=0){for(var u=0;u<l;u++)if(o[u]===c){t=u;break}n=o[t],o[t]=o[i],o[i]=n,e.rewards.rewardOrder=o}},removeReward:function(e,a){var t=a.payload,n=Object(Xe.a)(e.rewards.rewardOrder),r=Object(ta.a)({},e.rewards.rewards),c=n.findIndex((function(e){return t===e}));delete r[t],c>=0&&(n=[].concat(Object(Xe.a)(n.slice(0,c)),Object(Xe.a)(n.slice(c+1)))),e.rewards.rewards=r,e.rewards.rewardOrder=n},editReward:function(e,a){var t=a.payload,n=e.rewards.rewards[t];e.rewards.newElem.cost=n.cost,e.rewards.newElem.ruRU=Object(ta.a)({},n.ruRU),e.rewards.newElem.enUS=Object(ta.a)({},n.enUS)}},extraReducers:Object(Le.a)({},Pa.fulfilled,(function(e,a){Object.keys(a.payload).forEach((function(t){var n={},r=[];switch(t){default:e[t]=a.payload[t];break;case"mediaContent":r=a.payload[t].map((function(e){return n=Object(ta.a)(Object(ta.a)({},n),{},Object(Le.a)({},e.url,{url:[e.url],type:[e.type]})),e.url})),e.mediaContent.elems=n,e.mediaContent.elemsOrder=r;break;case"rewards":n={},r=a.payload[t].map((function(e){var a=e.locale.enUS.name||e.locale.ruRU.name;return n=Object(ta.a)(Object(ta.a)({},n),{},Object(Le.a)({},a,Object(ta.a)({cost:e.cost},e.locale))),a})),e.rewards.rewards=n,e.rewards.rewardOrder=r}}))}))}),Ia=Object(na.a)((function(e){return e.editCampaign}),(function(e){return e.data})),Wa=Object(na.a)(Ia,(function(e){return e.id})),Aa=Object(na.a)(Ia,(function(e){return e.name})),Ba=Object(na.a)(Ia,(function(e){return e.name[e.nameLocale]})),Fa=Object(na.a)(Ia,(function(e){return e.campaignType})),Ga=Object(na.a)(Ia,(function(e){return e.nameLocale})),Ya=Object(na.a)(Ia,(function(e){return e.descriptionLocale})),Ha=Object(na.a)(Ia,(function(e){return e.description})),_a=Object(na.a)(Ia,(function(e){return e.description[e.descriptionLocale]})),qa=Object(na.a)(Ia,(function(e){return e.avatar})),Ja=Object(na.a)(Ia,(function(e){return e.goalFinishDate})),$a=Object(na.a)(Ia,(function(e){return e.goalSum})),za=Object(na.a)(Ia,(function(e){return e.mediaContent})),Va=Object(na.a)(za,(function(e){return e.newElem})),Ka=Object(na.a)(Va,(function(e){return e.type})),Qa=Object(na.a)(Va,(function(e){return e.url})),Xa=Object(na.a)(Va,(function(e){return e.position})),Za=Object(na.a)(za,(function(e){return e.elems})),et=Object(na.a)(za,(function(e){return e.elemsOrder})),at=Object(na.a)(Ia,(function(e){return e.rewards})),tt=Object(na.a)(at,(function(e){var a=e.newElem;return Object(ta.a)({cost:a.cost},a[e.locale])})),nt=Object(na.a)(at,(function(e){return e.locale})),rt=Object(na.a)(at,(function(e){return e.rewardOrder.map((function(a){var t=e.locale,n=e.rewards[a];return Object(ta.a)({id:a,cost:n.cost},n[t])}))})),ct={name:Ba,campaignType:Fa,nameLocale:Ga,descriptionLocale:Ya,description:_a,avatar:qa,goalFinishDate:Ja,goalSum:$a,mediaContent:za,mediaContentNewElemType:Ka,mediaContentNewElemUrl:Qa,mediaContentNewElemPosition:Xa,mediaContentElems:Za,mediaContentElemsOrder:et,rewardsNewElem:tt,rewardsLocale:nt,rewards:rt},it=Object(ta.a)(Object(ta.a)({},Ma.actions),{},{onSend:La,init:Pa}),ot=Object(ra.c)({data:Ma.reducer}),lt=Object(Q.e)({name:"locale",initialState:{locale:"enUS"},reducers:{setLocale:function(e,a){e.locale=a.payload}}}),ut=(Object(ta.a)({},lt.actions),function(e){return e.locale.locale}),mt=lt.reducer,st=Object(Q.c)("campaignTypes/init",Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oa();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),dt=Object(Q.e)({name:"campaignTypes",initialState:{types:{}},extraReducers:Object(Le.a)({},st.fulfilled,(function(e,a){var t={};a.payload.forEach((function(e){var a=e.name,n=e.locale;t=Object(ta.a)(Object(ta.a)({},t),{},Object(Le.a)({},a,n))})),e.types=t}))}),pt=function(e){return e.campaignTypes.types},gt=(Object(na.a)(pt,(function(e){return Object.keys(e)})),pt),Et={init:st},ft=dt.reducer,bt=Object(Q.c)("mainPage/load",Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var vt=Object(Q.e)({name:"mainPage",initialState:{campaigns:{},campaignsByTypes:{},paggination:{}},reducers:{setPage:function(e,a){var t=a.payload,n=t.type,r=t.page;e.paggination[n]=r}},extraReducers:Object(Le.a)({},bt.fulfilled,(function(e,a){e.campaigns=a.payload,e.campaignsByTypes=function(e){var a={};return Object.keys(e).forEach((function(t){var n=e[t].type;a=Object(ta.a)(Object(ta.a)({},a),{},Object(Le.a)({},n,a[n]?[].concat(Object(Xe.a)(a[n]),[t]):[t]))})),a}(a.payload),e.paggination=function(e){var a={};return Object.keys(e).forEach((function(e){a=Object(ta.a)(Object(ta.a)({},a),{},Object(Le.a)({},e,0))})),a}(e.campaignsByTypes)}))}),ht=function(e){return e.mainPage},wt=Object(na.a)(ht,(function(e){return e.campaigns})),Ot=Object(na.a)(ht,(function(e){return e.campaignsByTypes})),jt=Object(na.a)(ht,(function(e){return e.paggination})),Ct=Object(ta.a)(Object(ta.a)({},vt.actions),{},{load:bt}),yt={campaigns:wt,campaignsByTypes:Ot,pagination:jt},xt=vt.reducer,Rt=Object(Q.a)({reducer:{mainMenu:ea,user:aa,campaign:Sa,editCampaign:ot,locale:mt,campaignTypes:ft,mainPage:xt},middleware:[].concat(Object(Xe.a)(Object(Q.f)()),[Ze.a])});function kt(){var e=Object(n.useState)(ut(Rt.getState())),a=Object(D.a)(e,2),t=a[0],r=a[1],c=Object(n.useCallback)((function(){var e=ut(Rt.getState());t!==e&&r(e)}),[t]);return Object(n.useEffect)((function(){var e=Rt.subscribe(c);return function(){e()}}),[c]),t}var Ut={ruRU:{loc:"ru-RU",format:"DD.MM.YYYY",endDate:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",left:"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c",goal:"\u0426\u0435\u043b\u044c"},enUS:{loc:"en-US",format:"MM.DD.YYYY",endDate:"Expiration",left:"Left",goal:"Goal"}},Nt=Object(p.a)({progressRoot:{height:"0.4em",borderRadius:"3px"}});function St(e){var a=e.date,t=e.goal,n=e.current,c=kt(),i=Nt(),o=Ut[c];return r.a.createElement(B.a,{container:!0,direction:"column",spacing:3},r.a.createElement(B.a,{item:!0,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h3"},o.goal)),r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h3"},t))),r.a.createElement(B.a,{item:!0},r.a.createElement(Qe.a,{classes:{root:i.progressRoot},variant:"determinate",value:n/t*100}),r.a.createElement(B.a,{item:!0,container:!0,justify:"flex-end",direction:"row",fullWidth:!0},r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h6"},n," \u0438\u0437 ",t)))),r.a.createElement(B.a,{item:!0},r.a.createElement(B.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(B.a,{item:!0},o.endDate),r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h6",component:"span"},Intl.DateTimeFormat(o.loc).format(a)))),r.a.createElement(B.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(B.a,{item:!0},o.left),r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h6",component:"span"},new Intl.RelativeTimeFormat(o.loc).format(Math.trunc((a-Date.now())/1e3/60/60/24),"day"))))))}var Lt=t(573),Dt=Object(p.a)({root:{padding:"0.5em"}}),Tt=function(e){var a=e.onClickButton,t=e.label,n=e.description,c=e.cost,i=Dt();return r.a.createElement(Lt.a,{className:i.root},r.a.createElement(B.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(B.a,{item:!0,xs:12,container:!0,justify:"space-around"},r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h6"},t))),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement($e.a,{source:n})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:a,fullWidth:!0},c))))},Pt=Object(p.a)({root:{marginTop:"0.5em"}});function Mt(e){var a=e.cost,t=e.locale,n=e.onClickButton,c=kt();return r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(Tt,{cost:a,label:t[c].name,description:t[c].description,onClickButton:n}))}function It(e){var a=e.value,t=(e.onClickButton,Pt());return r.a.createElement(B.a,{container:!0,alignItems:"center",spacing:2,className:t.root},a.map((function(e){return r.a.createElement(Mt,Object.assign({key:e.label},e))})))}function Wt(){return r.a.createElement("div",null)}function At(){return r.a.createElement("div",null)}var Bt=t(590),Ft=Object(p.a)({userRatingStar:{color:"darkorange"}}),Gt=function(e){var a=e.user,t=e.average,n=e.onChange,c=Ft();return r.a.createElement(Bt.a,{classes:{iconFilled:a?c.userRatingStar:void 0,iconHover:c.userRatingStar},precision:.5,value:a||t,onChange:function(e,a){n(a)}})},Yt=t(130),Ht=t.n(Yt);function _t(e){var a=e.id,t=e.label,c=e.rating,i=e.onRatingChange,o=e.media,l=e.goalSum,m=e.goalEndDate,s=e.goalCurrent,p=e.description,g=e.rewards,E=e.canEdit,f=kt(),b=Object(ae.f)(),v=Object(n.useCallback)((function(){b.push("/campaign/edit/".concat(a))}),[b,a]);return r.a.createElement(B.a,{container:!0,direction:"column"},r.a.createElement(B.a,{container:!0,justify:"space-between"},r.a.createElement(B.a,{item:!0,xs:11},r.a.createElement(d.a,{variant:"h3"},t[f]||"")),r.a.createElement(B.a,{item:!0,xs:1},E?r.a.createElement(u.a,{onClick:v},r.a.createElement(Ht.a,null)):r.a.createElement("div",null))),r.a.createElement(B.a,{item:!0}),r.a.createElement(B.a,{item:!0},r.a.createElement(Gt,{user:c.user,average:c.average,onChange:i})),r.a.createElement(B.a,{item:!0},r.a.createElement(qe,null)),r.a.createElement(B.a,{item:!0,container:!0,spacing:2},r.a.createElement(B.a,{item:!0,sm:8,xs:12},r.a.createElement(_e,{value:o})),r.a.createElement(B.a,{item:!0,sm:4,xs:12},r.a.createElement(St,{date:m,goal:l,current:s}))),r.a.createElement(B.a,{item:!0,container:!0,spacing:2},r.a.createElement(B.a,{item:!0,sm:8,xs:12},r.a.createElement(Ke,{value:p[f]||""}),r.a.createElement(At,null)),r.a.createElement(B.a,{item:!0,sm:4,xs:12},r.a.createElement(It,{value:g}))),r.a.createElement(B.a,{item:!0},r.a.createElement(Wt,null)))}var qt,Jt,$t,zt,Vt,Kt,Qt=Object(h.b)((function(e){return{label:Na.label(e),userRating:Na.userRating(e),averageRating:Na.averageRating(e),media:Na.media(e),goalSum:Na.goalSum(e),goalCurrent:Na.goalCurrent(e),goalEndDate:Na.goalEndDate(e),description:Na.description(e),rewards:Na.rewards(e),owner:Na.owner(e),user:j(e)}}))((function(e){var a=e.label,t=e.userRating,c=e.averageRating,i=e.media,o=e.dispatch,l=e.goalSum,u=e.goalCurrent,m=e.goalEndDate,s=e.description,d=e.rewards,p=e.user,g=e.owner,E=e.match.params.id,f=Object(n.useCallback)((function(e){o(ja.setUserRating(e))}),[o]);return Object(n.useEffect)((function(){o(ja.initPage(E))}),[o,E]),r.a.createElement(_t,{id:E,label:a,canEdit:p===g,rating:{user:t,average:c},onRatingChange:f,media:i,goalSum:l,goalCurrent:u,goalEndDate:m,description:s,rewards:d})})),Xt=t(578),Zt=t(588),en=t(576),an=t(596),tn=(qt={},Object(Le.a)(qt,We,"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"),Object(Le.a)(qt,Be,"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435"),Object(Le.a)(qt,Ae,"\u0421\u043f\u043e\u0440\u0442"),qt),nn=(Jt={},Object(Le.a)(Jt,We,"Education"),Object(Le.a)(Jt,Be,"Health"),Object(Le.a)(Jt,Ae,"Sport"),Jt),rn=t(131),cn=t.n(rn),on=(t(501),function(e){var a=e.onChange,t=e.value,n=e.id;return r.a.createElement(cn.a,{id:n,value:t,onChange:a,options:{toolbar:["bold","italic","heading","|","quote","ordered-list","unordered-list","|","link","image"]}})}),ln=($t={},Object(Le.a)($t,"enUS","English"),Object(Le.a)($t,"ruRU","\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),$t),un=function(e){var a=e.value,t=e.onChange,n=e.id,c=e.name,i=e.fullWidth;return r.a.createElement(Zt.a,{id:n,name:c,value:a,onChange:t,fullWidth:i},Object.keys(ln).map((function(e){var a=ln[e];return r.a.createElement(P.a,{key:e,value:e},a)})))},mn=t(593),sn=function(e){var a=e.text,t=e.locale,n=e.onTextChange,c=e.onLocaleChange,i=e.nameText,o=e.nameLocale,l=e.textLabel;return r.a.createElement(B.a,{container:!0,alignItems:"flex-end",spacing:1},r.a.createElement(B.a,{item:!0,xs:9},r.a.createElement(mn.a,{name:i,fullWidth:!0,label:l,value:a,onChange:function(e){return n(e.target.value)}})),r.a.createElement(B.a,{item:!0,xs:3},r.a.createElement(un,{name:o,value:t,onChange:function(e){return c(e.target.value)},fullWidth:!0})))},dn=(zt={},Object(Le.a)(zt,"ruRU",{remove:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(Le.a)(zt,"enUS",{remove:"Remove",add:"Add"}),zt),pn=function(e){var a=e.img,t=e.onChange,c=dn[kt()],i=Object(n.useRef)({open:function(){}}),o=Object(n.useCallback)((function(){i.current.open()}),[i]),l=Object(n.useCallback)((function(){t("")}),[t]),u=a?l:o;return Object(n.useEffect)((function(){i.current=window.cloudinary.createUploadWidget({cloudName:"dspvo2e4p",uploadPreset:"kpuvrpa7"},(function(e,a){"success"===a.event&&t(a.info.public_id)}))}),[t]),r.a.createElement(B.a,{container:!0,direction:"column",alignItems:"center"},a?r.a.createElement(B.a,{item:!0},r.a.createElement(Fe.Image,{publicId:a,width:"300"})):r.a.createElement("div",null),r.a.createElement(B.a,{item:!0},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:u},a?c.remove:c.add)))},gn=t(582),En=(Vt={},Object(Le.a)(Vt,"ruRU",{costLabel:"\u0426\u0435\u043b\u044c",dateLabel:"\u0414\u0430\u0442\u0430"}),Object(Le.a)(Vt,"enUS",{costLabel:"Goal",dateLabel:"Date"}),Vt),fn=function(e){var a=e.locale,t=void 0===a?"enUS":a,n=e.sum,c=e.onSumChange,i=e.date,o=e.onDateChange,l=En[t];return r.a.createElement(B.a,{container:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(B.a,{item:!0,xs:12,sm:6},r.a.createElement(mn.a,{fullWidth:!0,label:l.costLabel,value:n,onChange:function(e){return c(e.target.value)},xs:12})),r.a.createElement(B.a,{item:!0,xs:12,sm:6},r.a.createElement(gn.a,{value:i,onChange:o,fullWidth:!0})))},bn=t(584),vn=t(577),hn=function(e){var a=e.url,t=e.onChange;return r.a.createElement(pn,{img:a,onChange:t})},wn=function(e){var a=e.url,t=e.onChange;return r.a.createElement(k.a,null,r.a.createElement(mn.a,{label:"URL",fullWidth:!0,value:a,onChange:function(e){return t(e.target.value)}}),r.a.createElement(Ie.a,{url:a,light:!0,width:"100%"}))},On=Object(p.a)({text:{maxWidth:"2em"}}),jn=function(e){var a=e.value,t=e.onChange,n=e.label,c=On();return r.a.createElement(k.a,null,r.a.createElement(u.a,{onClick:function(){return t(a-1)}},r.a.createElement(oe.a,null)),r.a.createElement(mn.a,{classes:{root:c.text},value:a,onChange:function(e){return t(e.target.value)},label:n}),r.a.createElement(u.a,{onClick:function(){return t(a+1)}},r.a.createElement(Pe.a,null)))},Cn=(Kt={},Object(Le.a)(Kt,"ruRU",{image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",video:"\u0412\u0438\u0434\u0435\u043e",button:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(Le.a)(Kt,"enUS",{image:"Image",video:"Video",button:"Add"}),Kt);function yn(e){switch(e){case"image":return 0;case"video":return 1;default:throw new Error("Wrong media content ".concat(e))}}function xn(e){var a=e.type,t=Object(v.a)(e,["type"]);switch(a){case"image":return r.a.createElement(hn,t);case"video":return r.a.createElement(wn,t);default:return r.a.createElement("div",null)}}var Rn,kn=function(e){var a=e.type,t=void 0===a?"image":a,n=e.onChangeType,c=e.url,i=e.onChangeUrl,o=e.position,l=e.onChangePosition,u=e.onAdd,m=kt(),s=Cn[m];return r.a.createElement(k.a,null,r.a.createElement(bn.a,{value:yn(t),onChange:function(e,a){n(function(e){switch(e){case 0:return"image";case 1:return"video";default:throw new Error("Wrong value ".concat(e))}}(a))},fullWidth:!0,centered:!0},r.a.createElement(vn.a,{label:s.image}),r.a.createElement(vn.a,{label:s.video})),r.a.createElement(Xt.a,null,r.a.createElement(xn,{type:t,url:c,onChange:i}),r.a.createElement(B.a,{container:!0,direction:"column",alignItems:"center",spacing:1},r.a.createElement(B.a,{item:!0},r.a.createElement(jn,{value:o,onChange:l,label:"Position"})),r.a.createElement(B.a,{item:!0},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:u},s.button)))))},Un=Object(p.a)({card:{width:"15em"}}),Nn=(Rn={},Object(Le.a)(Rn,"ruRU",{delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(Le.a)(Rn,"enUS",{delete:"Remove"}),Rn);function Sn(e){var a=e.url;return r.a.createElement(k.a,null,r.a.createElement(Fe.Image,{publicId:a,width:"300"}))}function Ln(e){var a=e.url;return r.a.createElement(k.a,null,r.a.createElement(Ie.a,{url:a,light:!0,width:"100%"}))}function Dn(e){var a,t=e.type,n=e.url,c=e.onChangePosition,i=e.position,o=e.onDelete,l=kt(),m=Nn[l],s=Un();if("image"==t)a=Sn;else{if("video"!=t)throw Error("Wrong media type ".concat(t));a=Ln}return r.a.createElement(B.a,{item:!0},r.a.createElement(B.a,{container:!0,alignItems:"center"},r.a.createElement(B.a,{item:!0},r.a.createElement(u.a,{onClick:function(){return c(i-1)}},r.a.createElement(oe.a,null))),r.a.createElement(B.a,{item:!0},r.a.createElement(Lt.a,{className:s.card},r.a.createElement(a,{url:n}),r.a.createElement(B.a,{container:!0,justify:"space-around"},r.a.createElement(B.a,{item:!0},r.a.createElement(R.a,{color:"primary",onClick:o},m.delete))))),r.a.createElement(B.a,{item:!0},r.a.createElement(u.a,{onClick:function(){return c(i+1)}},r.a.createElement(Pe.a,null)))))}var Tn,Pn=function(e){var a=e.value,t=e.valueOrder,n=e.onChangePosition,c=e.onDelete;return r.a.createElement(B.a,{container:!0,direction:"flex-start",alignItems:"center",spacing:1},t?t.map((function(e,t){return r.a.createElement(Dn,{key:e,url:e,type:a[e].type,position:t,onChangePosition:function(a){n(e,a)},onDelete:function(){return c(e)}})})):r.a.createElement("div",null))},Mn=function(e){var a=e.newElemType,t=e.onChangeNewElemType,n=e.newElemUrl,c=e.onChangeNewElemUrl,i=e.newElemPosition,o=e.onChangeNewElemPosition,l=e.onChangePosition,u=e.onDelete,m=e.onAdd,s=e.elems,d=e.elemsOrder;return r.a.createElement(B.a,{container:!0,spacing:1},r.a.createElement(B.a,{item:!0,sm:4,xs:12},r.a.createElement(kn,{type:a,onChangeType:t,url:n,onChangeUrl:c,position:i,onChangePosition:o,onAdd:m})),r.a.createElement(B.a,{item:!0,sm:8,xs:12},r.a.createElement(Pn,{onChangePosition:l,onDelete:u,value:s,valueOrder:d})))},In=(Tn={},Object(Le.a)(Tn,"ruRU",{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",cost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(Le.a)(Tn,"enUS",{name:"Name",cost:"Cost",add:"Add"}),Tn),Wn=function(e){var a=e.name,t=e.description,n=e.cost,c=e.onChange,i=e.onAdd,o=In[kt()];return r.a.createElement(B.a,{container:!0,spacing:1,justify:"space-around"},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(mn.a,{label:o.name,value:a,onChange:function(e){return c("name",e.target.value)},fullWidth:!0})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(cn.a,{value:t,onChange:function(e){return c("description",e)}})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(mn.a,{label:o.cost,value:n,onChange:function(e){return c("cost",e.target.value)},fullWidth:!0})),r.a.createElement(B.a,{item:!0,xs:4},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:i},o.add)))},An=t(224),Bn=t.n(An);function Fn(e){var a=e.name,t=e.description,c=e.cost,i=e.id,o=e.onDelete,l=e.onChangePosition,m=e.position,s=e.onEdit,d=Object(n.useCallback)((function(e){l(i,e)}),[i,l]);return r.a.createElement(B.a,{item:!0,sm:4,xs:12,container:!0,alignItems:"flex-start",wrap:"nowrap"},r.a.createElement(B.a,{item:!0,xs:2,container:!0,direction:"column"},r.a.createElement(u.a,{onClick:function(e){return s(i)}},r.a.createElement(Ht.a,null)),r.a.createElement(u.a,{onClick:function(e){d(m-1)}},r.a.createElement(oe.a,null))),r.a.createElement(B.a,{item:!0,xs:8},r.a.createElement(Tt,{label:a,description:t,cost:c})),r.a.createElement(B.a,{item:!0,xs:2,container:!0,direction:"column",alignItems:"flex-start",wrap:"nowrap"},r.a.createElement(B.a,{item:!0},r.a.createElement(u.a,{onClick:function(e){o(i)}},r.a.createElement(Bn.a,null))),r.a.createElement(B.a,{item:!0},r.a.createElement(u.a,{onClick:function(e){d(m+1)}},r.a.createElement(Pe.a,null)))),r.a.createElement(B.a,{item:!0,xs:6}))}var Gn,Yn,Hn=function(e){var a=e.rewards,t=e.onChangePosition,n=e.onDelete,c=e.onEdit;return r.a.createElement(B.a,{container:!0,spacing:2},a?a.map((function(e,a){return r.a.createElement(Fn,Object.assign({key:e.name,position:a},e,{onChangePosition:t,onDelete:n,onEdit:c}))})):r.a.createElement("div",null))},_n=(Gn={},Object(Le.a)(Gn,"ruRU",{label:"\u041d\u0430\u0433\u0440\u0430\u0434\u044b"}),Object(Le.a)(Gn,"enUS",{label:"Rewards"}),Gn),qn=function(e){var a=e.newElem,t=e.onChangeNewElem,n=e.locale,c=e.onChangeLocale,i=e.rewards,o=e.onAdd,l=e.onChangePosition,u=e.onDelete,m=e.onEdit,s=_n[kt()];return r.a.createElement(B.a,{container:!0,spacing:1},r.a.createElement(B.a,{item:!0,xs:12,sm:12,container:!0,spacing:1,alignItems:"center"},r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h5"},s.label)),r.a.createElement(B.a,{item:!0},r.a.createElement(un,{value:n,onChange:function(e){return c(e.target.value)}}))),r.a.createElement(B.a,{item:!0,sm:6,xs:12},r.a.createElement(Wn,Object.assign({},a,{onChange:t,onAdd:o}))),r.a.createElement(B.a,{item:!0,sm:6,xs:12,container:!0,direction:"column",justify:"space-around"},r.a.createElement(B.a,{item:!0},r.a.createElement(Tt,{label:a.name,description:a.description,cost:a.cost}))),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(Hn,{rewards:i,onChangePosition:l,onDelete:u,onEdit:m})))},Jn=(Yn={},Object(Le.a)(Yn,"ruRU",{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",header:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0432\u0430\u0448\u0443 \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e!",campaignTypes:tn,campaignTypeLabel:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",descriptionLabel:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",avatarLabel:"\u0410\u0432\u0430\u0442\u0430\u0440",goalLabel:"\u0426\u0435\u043b\u044c",mediaContentLabel:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438",applyButton:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",cancelButton:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(Le.a)(Yn,"enUS",{name:"Name",header:"Create you new company!",campaignTypes:nn,campaignTypeLabel:"Category",descriptionLabel:"Description",avatarLabel:"Avatar",goalLabel:"Goal",mediaContentLabel:"Carousel content",applyButton:"Apply",cancelButton:"Cancel"}),Yn),$n=Object(p.a)({header:{marginBottom:"1em"}});var zn=function(e){var a,t=e.name,n=e.setName,c=e.nameLocale,i=e.setNameLocale,o=e.campaignType,l=e.setCampaignType,u=e.description,m=e.descriptionLocale,s=e.setDescription,p=e.setDescriptionLocale,g=e.avatar,E=e.setAvatar,f=e.goalFinishDate,b=e.goalSum,v=e.setGoalFinishDate,h=e.setGoalSum,w=e.setMediaContentNewElemType,O=e.mediaContent,j=e.setMediaContentNewElemUrl,C=e.setMediaContentNewElemPosition,y=e.addMediaContent,x=e.changeMediaContentPosition,k=e.removeMediaContent,U=e.onChangeRewardsNewElem,N=e.rewardsNewElem,S=e.onChangeRewardsLocale,L=e.rewardsLocale,D=e.addReward,T=e.rewards,M=e.onChangeRewardPosition,I=e.onDeleteReward,W=e.onEditReward,A=e.onApply,F=e.onCancel,G=e.campaignTypes,Y=kt(),H=Jn[Y],_=$n();return r.a.createElement(B.a,{container:!0},r.a.createElement(B.a,{item:!0,container:!0,xs:12,justify:"space-around",classes:{root:_.header}},r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h4"},H.header))),r.a.createElement(B.a,{item:!0,container:!0,xs:12,spacing:3},r.a.createElement(B.a,{item:!0,container:!0,sm:8,xs:12},r.a.createElement(B.a,{container:!0,item:!0,xs:12,spacing:1},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(sn,{text:t,locale:c,onTextChange:n,onLocaleChange:i,textLabel:H.name})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(en.a,{fullWidth:!0},r.a.createElement(an.a,{htmlFor:"campaignTypeInput"},H.campaignTypeLabel),r.a.createElement(Zt.a,{id:"campaignTypeInput",value:o,onChange:function(e){return l(e.target.value)},fullWidth:!0},G?(a=function(){var e={};return Object.keys(G).forEach((function(a){e=Object(ta.a)(Object(ta.a)({},e),{},Object(Le.a)({},a,G[a][Y]))})),e}(),Object.keys(a).map((function(e){return{value:e,label:a[e]}})).map((function(e){return r.a.createElement(P.a,{key:e.value,value:e.value},e.label)}))):r.a.createElement("div",null)))))),r.a.createElement(B.a,{item:!0,sm:4,xs:12},r.a.createElement(B.a,{item:!0,container:!0,justify:"space-around"},r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h5"},H.avatarLabel))),r.a.createElement(B.a,{item:!0},r.a.createElement(pn,{img:g,onChange:E}))),r.a.createElement(B.a,{item:!0,container:!0,spacing:1,xs:12},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"h5"},H.goalLabel)),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(fn,{sum:b,onSumChange:h,date:f,onDateChange:v}))),r.a.createElement(B.a,{item:!0,container:!0,xs:12,spacing:1},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"h5"},H.mediaContentLabel)),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(Mn,{newElemType:O.newElem.type,onChangeNewElemType:w,newElemUrl:O.newElem.url,onChangeNewElemUrl:j,newElemPosition:O.newElem.position,onChangeNewElemPosition:C,onChangePosition:x,onDelete:k,onAdd:y,elems:O.elems,elemsOrder:O.elemsOrder}))),r.a.createElement(B.a,{item:!0,container:!0,xs:12,spacing:1},r.a.createElement(B.a,{item:!0,container:!0,spacing:1,xs:12},r.a.createElement(B.a,{item:!0},r.a.createElement(d.a,{variant:"h5"},H.descriptionLabel)),r.a.createElement(B.a,{item:!0},r.a.createElement(un,{id:"selectDescriptionInputLocale",name:"descriptionLocale",value:m,onChange:function(e){return p(e.target.value)}}))),r.a.createElement(B.a,{container:!0,item:!0,xs:12},r.a.createElement(B.a,{item:!0,sm:6,xs:12},r.a.createElement(on,{value:u,onChange:function(e){return s(e)}})),r.a.createElement(B.a,{item:!0,sm:6,xs:12},r.a.createElement($e.a,{source:u}))),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(qn,{onChangeNewElem:U,newElem:N,onChangeLocale:S,locale:L,onAdd:D,rewards:T,onChangePosition:M,onDelete:I,onEdit:W})))),r.a.createElement(B.a,{item:!0,container:!0,justify:"center"},r.a.createElement(B.a,{item:!0},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:A},H.applyButton)),r.a.createElement(B.a,{item:!0},r.a.createElement(R.a,{cariant:"contained",color:"primary",onClick:F},H.cancelButton))))},Vn=Object(h.b)((function(e){return{name:ct.name(e),campaignType:ct.campaignType(e),nameLocale:ct.nameLocale(e),description:ct.description(e),descriptionLocale:ct.descriptionLocale(e),avatar:ct.avatar(e),goalFinishDate:ct.goalFinishDate(e),goalSum:ct.goalSum(e),mediaContent:ct.mediaContent(e),rewardsNewElem:ct.rewardsNewElem(e),rewardsLocale:ct.rewardsLocale(e),rewards:ct.rewards(e),campaignTypes:gt(e)}}),(function(e){return{setName:function(a){e(it.setName(a))},setCampaignType:function(a){e(it.setCampaignType(a))},setNameLocale:function(a){e(it.setNameLocale(a))},setDescriptionLocale:function(a){e(it.setDescriptionLocale(a))},setDescription:function(a){e(it.setDescription(a))},setAvatar:function(a){e(it.setAvatar(a))},setGoalFinishDate:function(a){e(it.setGoalFinishDate(a))},setGoalSum:function(a){e(it.setGoalSum(a))},setMediaContentNewElemType:function(a){e(it.setMediaContentNewElemType(a))},setMediaContentNewElemUrl:function(a){e(it.setMediaContentNewElemUrl(a))},setMediaContentNewElemPosition:function(a){e(it.setMediaContentNewElemPosition(a))},addMediaContent:function(){e(it.addMediaContent()),e(it.clearMediaContentNewElem())},removeMediaContent:function(a){e(it.removeMediaContent(a))},changeMediaContentPosition:function(a,t){e(it.changeMediaContentPosition({url:a,position:t}))},onChangeRewardsNewElem:function(a,t){var n;switch(a){case"name":n=it.setRewardsNewElemName(t);break;case"description":n=it.setRewardsNewElemDescription(t);break;case"cost":n=it.setRewardsNewElemCost(t);break;default:return}e(n)},onChangeRewardsLocale:function(a){e(it.setRewardsLocale(a))},addReward:function(){e(it.addReward())},onChangeRewardPosition:function(a,t){e(it.changeRewardPosition({id:a,position:t}))},onDeleteReward:function(a){e(it.removeReward(a))},onEditReward:function(a){e(it.editReward(a)),e(it.removeReward(a))},onApply:function(){e(it.onSend())},init:function(a){e(it.init(a))}}}))((function(e){var a=e.match.params.id,t=e.init;return Object(n.useEffect)((function(){a&&t(a)}),[a,t]),r.a.createElement(zn,e)})),Kn=t(228),Qn=t(579),Xn=t(580),Zn=t(581),er=function(e){var a=e.img,t=e.id,c=e.name,i=Object(ae.f)(),o=Object(n.useCallback)((function(){i.push("/campaign/".concat(t))}),[i,t]);return r.a.createElement(Lt.a,null,r.a.createElement(Qn.a,{onClick:o},r.a.createElement(Xn.a,null,r.a.createElement(Fe.Image,{publicId:a,width:"300"})),r.a.createElement(Zn.a,null,r.a.createElement(d.a,{variant:"h6"},c))))},ar=t(585),tr=function(e){var a=e.campaigns,t=e.name,n=e.page,c=e.onChange,i=kt(),u=Math.floor(a.length/6),m=6*n;return r.a.createElement(Kn.a,null,r.a.createElement(o.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(d.a,{variant:"h5"},t?t[i]:"blank"))),r.a.createElement(B.a,{container:!0,spacing:1,justify:"space-around",alignItems:"center"},a?a.slice(m,m+6).map((function(e){return r.a.createElement(B.a,{item:!0,key:e.id},r.a.createElement(er,{img:e.avatar,name:e.names[i],id:e.id}))})):r.a.createElement("div",null)),u?r.a.createElement(ar.a,{count:u,page:n,onChange:c}):r.a.createElement("div",null))};function nr(e){return r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(tr,e))}var rr=function(e){var a=e.campaigns,t=e.types,n=e.pagination,c=e.typeNames,i=e.onChangePage;return r.a.createElement(k.a,null,r.a.createElement(B.a,{container:!0},function(e,a,t,n,c){return a==={}?r.a.createElement("div",null):Object.keys(a).map((function(i){return r.a.createElement(nr,{name:n[i],campaigns:a[i].map((function(a){return Object(ta.a)({id:a},e[a])})),page:t[i],onChange:function(e){return c(i,e)}})}))}(a,t,n,c,i)))};var cr=Object(h.b)((function(e){return{pagination:yt.pagination(e),campaigns:yt.campaigns(e),types:yt.campaignsByTypes(e),typeNames:gt(e)}}),(function(e){return{loadCampaigns:function(){return e(Ct.load())},onChangePage:function(a,t){return e(Ct.setPage({type:a,page:t}))}}}))((function(e){var a=e.loadCampaigns,t=Object(v.a)(e,["loadCampaigns"]);return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(rr,t)})),ir=Object(p.a)({mainContent:{marginTop:"3em"}});var or=Object(h.b)((function(e){return{menuIsOpen:ne(e)}}))((function(e){var a=e.menuIsOpen,t=e.dispatch,c=ir();return Object(n.useEffect)((function(){C.getTokenSilently().then((function(){return C.getUser().then((function(e){e&&t(ee(e.sub,e.name))}))})).catch((function(e){return console.log(e)}))}),[t]),Object(n.useEffect)((function(){t(Et.init())}),[t]),r.a.createElement("div",null,r.a.createElement(de.a,null,r.a.createElement(Z,{pageName:"main"}),r.a.createElement(Ne,{isOpen:a,onClose:function(){return t(X())}}),r.a.createElement(Xt.a,{className:c.mainContent},r.a.createElement(ae.c,null,r.a.createElement(ae.a,{exact:!0,path:"/"},r.a.createElement(cr,null)),r.a.createElement(ae.a,{exact:!0,path:"/auth"},r.a.createElement(te,null)),r.a.createElement(ae.a,{exact:!0,path:"/campaign/create",component:Vn}),r.a.createElement(ae.a,{exact:!0,path:"/campaign/edit/:id",component:Vn}),r.a.createElement(ae.a,{exact:!0,path:"/campaign/:id",component:Qt})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lr=t(29),ur=t(225);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:Rt},r.a.createElement(lr.a,{utils:ur.a},r.a.createElement(Fe.CloudinaryContext,{cloudName:"dspvo2e4p"},r.a.createElement(or,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[251,12,13]]]);
//# sourceMappingURL=main.63f9e217.chunk.js.map