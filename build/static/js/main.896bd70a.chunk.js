(this.webpackJsonpcourse=this.webpackJsonpcourse||[]).push([[0],{252:function(e,a,t){e.exports=t(503)},257:function(e,a,t){},283:function(e,a,t){},500:function(e,a){},503:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(13),i=t.n(c),o=(t(257),t(565)),l=t(566),u=t(506),m=t(221),s=t.n(m),d=t(133),p=t(561),g={ruRU:{pageName:{main:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",campaings:"\u041a\u0430\u043c\u043f\u0430\u043d\u0438\u0438",registration:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}},enUS:{pageName:{main:"Main",campaings:"Campaings",registration:"Sign In"}}},E=t(12),f=t.n(E),b=t(24),v=t(90),h=t(26);function w(e){return e.user.isAuthenticated}function O(e){return e.user.name}function j(e){return e.user.id}var C=new(t(219).a)({domain:"winter-waterfall-5281.auth0.com",client_id:"3DZe0mxqJBj2uavVpmCcZDv9k9He4p4s",redirect_uri:"https://".concat(window.location.host,"/auth"),cacheLocation:"localstorage",useRefreshTokens:!0,audience:"https://winter-waterfall-5281.auth0.com/api/v2/"});function y(e){return{isAuthenticated:w(e),name:O(e)}}var x=function(e){return Object(h.b)(y)((function(a){var t=a.isAuthenticated,c=a.name,i=a.dispatch,o=Object(v.a)(a,["isAuthenticated","name","dispatch"]),l=Object(n.useCallback)(Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.logout();case 2:case"end":return e.stop()}}),e)}))),[]);return r.a.createElement(e,Object.assign({onLogout:l,isAuthenticated:t,name:c,dispatch:i},o))}))},R=t(559),k=t(584),U=t(56),N=t.n(U),L=t(132),S=t(32),D=t(15),T=t(100),P=t(6),M=Object(D.b)("menu/toggle"),I=Object(D.d)(!1,Object(P.a)({},M,(function(e){return!e}))),W=Object(D.b)("user/login",(function(e,a){return{payload:{id:e,name:a}}})),A=Object(D.d)({isAuthenticated:!1,name:void 0,id:void 0},Object(P.a)({},W,(function(e,a){return{isAuthenticated:!0,name:a.payload.name,id:a.payload.id}}))),B=t(9),F=t(45),G=t(44),Y=t(103),H=t.n(Y);function q(){return J.apply(this,arguments)}function J(){return(J=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H()("/api/campaignTypes");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return V.apply(this,arguments)}function V(){return(V=Object(b.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H()("/api/campaign/".concat(a));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H()("/api/campaigns");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,a,t,n,r,c,i){return K.apply(this,arguments)}function K(){return(K=Object(b.a)(f.a.mark((function e(a,t,n,r,c,i,o){var l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getTokenSilently();case 2:l=e.sent,H()("/api/campaign/update",{method:"post",headers:{Authorization:"Bearer ".concat(l)},data:{id:a,type:t,avatar:n,locale:r,goal:c,mediaContent:i,rewards:o}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,a){var t={};return Object.keys(e).forEach((function(n){t=Object(B.a)(Object(B.a)({},t),{},Object(P.a)({},n,e[n][a]))})),t}function X(e){return Q(e,"description")}var ee,ae,te,ne=Object(D.c)("campaign/initPage",function(){var e=Object(b.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a);case 2:return t=e.sent,c=t.locale,n=Q(c,"name"),r=X(t.locale),e.abrupt("return",{label:n,owner:t.owner,media:t.media,goal:{goal:t.goal.goal,current:0,finishDate:new Date(t.goal.date)},description:r,rewards:t.rewards});case 6:case"end":return e.stop()}var c}),e)})));return function(a){return e.apply(this,arguments)}}()),re=Object(D.e)({name:"campaign/data",initialState:{label:{},averageRating:0,userRating:0,media:[],goal:{goal:0,current:0,finishDate:Date.now()},description:{},rewards:[],owner:""},reducers:{setLabel:function(e,a){e.label=a.payload},setUserRating:function(e,a){e.userRating=a.payload},setMedia:function(e,a){e.media=a.payload}},extraReducers:Object(P.a)({},ne.fulfilled,(function(e,a){return Object(B.a)({},a.payload)}))}),ce={setUserRating:re.actions.setUserRating,initPage:ne},ie=Object(F.a)((function(e){return e.campaign}),(function(e){return e.data})),oe=Object(F.a)(ie,(function(e){return e.label})),le=Object(F.a)(ie,(function(e){return e.userRating})),ue=Object(F.a)(ie,(function(e){return e.averageRating})),me=Object(F.a)(ie,(function(e){return e.media})),se=Object(F.a)(ie,(function(e){return e.goal})),de={label:oe,userRating:le,averageRating:ue,media:me,goalSum:Object(F.a)(se,(function(e){return e.goal})),goalCurrent:Object(F.a)(se,(function(e){return e.current})),goalEndDate:Object(F.a)(se,(function(e){return e.finishDate})),description:Object(F.a)(ie,(function(e){return e.description})),rewards:Object(F.a)(ie,(function(e){return e.rewards})),owner:Object(F.a)(ie,(function(e){return e.owner}))},pe=Object(G.c)({data:re.reducer}),ge="education",Ee="sport",fe="health",be=(Date.UTC(2020,6,6),Object(D.c)("editCampaign/data/send",function(){var e=Object(b.a)(f.a.mark((function e(a,t){var n,r,c,i,o,l,u,m,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getState,c=Ne(r()),i=ye(r()),o=Fe(r()).map((function(e){return Be(r())[e]})),l=Ge(r()),u=l.rewardOrder.map((function(e){return l.rewards[e]})),m=Re(r()),s=Se(r()),e.next=10,z(Ce(r()),m,s,(n={},Object(P.a)(n,"enUS",{name:i.enUS,description:c.enUS}),Object(P.a)(n,"ruRU",{name:i.ruRU,description:c.ruRU}),n),{goal:Te(r()),date:De(r())},o,u);case 10:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()));function ve(e,a){var t={};return Object.keys(e).forEach((function(n){t=Object(B.a)(Object(B.a)({},t),{},Object(P.a)({},n,e[n][a]))})),t}function he(e){return ve(e,"description")}var we=Object(D.c)("editCampaign/data/get",function(){var e=Object(b.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a);case 2:return t=e.sent,e.abrupt("return",{id:t.id,name:(n=t.locale,ve(n,"name")),campaignType:t.type,description:he(t.locale),avatar:t.avatar,goalSum:t.goal.goal,goalFinishDate:t.goal.date,mediaContent:t.media,rewards:t.rewards});case 4:case"end":return e.stop()}var n}),e)})));return function(a){return e.apply(this,arguments)}}()),Oe=Object(D.e)({name:"editCampaign/data",initialState:{id:void 0,name:(ee={},Object(P.a)(ee,"enUS",""),Object(P.a)(ee,"ruRU",""),ee),nameLocale:"enUS",campaignType:ge,descriptionLocale:"enUS",description:(ae={},Object(P.a)(ae,"enUS",""),Object(P.a)(ae,"ruRU",""),ae),avatar:void 0,goalFinishDate:new Date,goalSum:"",mediaContent:{newElem:{type:"image",url:"",position:0},elems:{},elemsOrder:[]},rewards:{locale:["enUS"],newElem:(te={},Object(P.a)(te,"ruRU",{name:"",description:""}),Object(P.a)(te,"enUS",{name:"",description:""}),Object(P.a)(te,"cost",0),te),rewards:{},rewardOrder:[]}},reducers:{setName:function(e,a){e.name[e.nameLocale]=a.payload},setCampaignType:function(e,a){e.campaignType=a.payload},setNameLocale:function(e,a){e.nameLocale=a.payload},setDescriptionLocale:function(e,a){e.descriptionLocale=a.payload},setDescription:function(e,a){e.description[e.descriptionLocale]=a.payload},setAvatar:function(e,a){e.avatar=a.payload},setGoalFinishDate:function(e,a){e.goalFinishDate=a.payload},setGoalSum:function(e,a){/^[\d]*$/g.test(a.payload)&&(e.goalSum=a.payload)},setMediaContentNewElemType:function(e,a){e.mediaContent.newElem.type=a.payload},setMediaContentNewElemUrl:function(e,a){e.mediaContent.newElem.url=a.payload},setMediaContentNewElemPosition:function(e,a){var t=e.mediaContent.elemsOrder.length;t<a.payload?e.mediaContent.newElem.position=t:a.payload<0?e.mediaContent.newElem.position=0:e.mediaContent.newElem.position=a.payload},addMediaContent:function(e,a){var t=e.mediaContent.newElem,n=t.url,r=t.position,c=t.type;e.mediaContent.elems=Object(B.a)(Object(B.a)({},e.mediaContent.elems),{},Object(P.a)({},n,{type:c,url:n})),e.mediaContent.elemsOrder=[].concat(Object(S.a)(e.mediaContent.elemsOrder.slice(0,r)),[n],Object(S.a)(e.mediaContent.elemsOrder.slice(r)))},clearMediaContentNewElem:function(e,a){e.mediaContent.newElem={type:"image",url:"",position:0}},removeMediaContent:function(e,a){var t=Object(B.a)({},e.mediaContent.elems),n=0;delete t[a.payload],e.mediaContent.elems=t,e.mediaContent.elemsOrder.forEach((function(e,t){e===a.payload&&(n=t)})),e.mediaContent.elemsOrder=[].concat(Object(S.a)(e.mediaContent.elemsOrder.slice(0,n)),Object(S.a)(e.mediaContent.elemsOrder.slice(n+1)))},changeMediaContentPosition:function(e,a){var t,n,r=a.payload.position,c=a.payload.url,i=Object(S.a)(e.mediaContent.elemsOrder);r>=0&&r<i.length&&(i.forEach((function(e,a){e===c&&(t=a)})),n=i[r],i[r]=i[t],i[t]=n,e.mediaContent.elemsOrder=i)},setRewardsLocale:function(e,a){e.rewards.locale=a.payload},setRewardsNewElemName:function(e,a){var t=e.rewards.locale;e.rewards.newElem[t].name=a.payload},setRewardsNewElemDescription:function(e,a){var t=e.rewards.locale;e.rewards.newElem[t].description=a.payload},setRewardsNewElemCost:function(e,a){a.payload>-1&&(e.rewards.newElem.cost=a.payload)},addReward:function(e){var a=e.rewards,t=a.newElem.enUS.name||a.newElem.ruRU.name;t&&!a.rewards[t]&&(e.rewards.rewards=Object(B.a)(Object(B.a)({},a.rewards),{},Object(P.a)({},t,Object(B.a)({},a.newElem))),e.rewards.rewardOrder.push(t))},changeRewardPosition:function(e,a){var t,n,r=a.payload,c=r.id,i=r.position,o=Object(S.a)(e.rewards.rewardOrder),l=o.length;if(i<l&&i>=0){for(var u=0;u<l;u++)if(o[u]===c){t=u;break}n=o[t],o[t]=o[i],o[i]=n,e.rewards.rewardOrder=o}},removeReward:function(e,a){var t=a.payload,n=Object(S.a)(e.rewards.rewardOrder),r=Object(B.a)({},e.rewards.rewards),c=n.findIndex((function(e){return t===e}));delete r[t],c>=0&&(n=[].concat(Object(S.a)(n.slice(0,c)),Object(S.a)(n.slice(c+1)))),e.rewards.rewards=r,e.rewards.rewardOrder=n},editReward:function(e,a){var t=a.payload,n=e.rewards.rewards[t];e.rewards.newElem.cost=n.cost,e.rewards.newElem.ruRU=Object(B.a)({},n.ruRU),e.rewards.newElem.enUS=Object(B.a)({},n.enUS)}},extraReducers:Object(P.a)({},we.fulfilled,(function(e,a){Object.keys(a.payload).forEach((function(t){var n={},r=[];switch(t){default:e[t]=a.payload[t];break;case"mediaContent":r=a.payload[t].map((function(e){return n=Object(B.a)(Object(B.a)({},n),{},Object(P.a)({},e.url,{url:[e.url],type:[e.type]})),e.url})),e.mediaContent.elems=n,e.mediaContent.elemsOrder=r;break;case"rewards":n={},r=a.payload[t].map((function(e){var a=e.locale.enUS.name||e.locale.ruRU.name;return n=Object(B.a)(Object(B.a)({},n),{},Object(P.a)({},a,Object(B.a)({cost:e.cost},e.locale))),a})),e.rewards.rewards=n,e.rewards.rewardOrder=r}}))}))}),je=Object(F.a)((function(e){return e.editCampaign}),(function(e){return e.data})),Ce=Object(F.a)(je,(function(e){return e.id})),ye=Object(F.a)(je,(function(e){return e.name})),xe=Object(F.a)(je,(function(e){return e.name[e.nameLocale]})),Re=Object(F.a)(je,(function(e){return e.campaignType})),ke=Object(F.a)(je,(function(e){return e.nameLocale})),Ue=Object(F.a)(je,(function(e){return e.descriptionLocale})),Ne=Object(F.a)(je,(function(e){return e.description})),Le=Object(F.a)(je,(function(e){return e.description[e.descriptionLocale]})),Se=Object(F.a)(je,(function(e){return e.avatar})),De=Object(F.a)(je,(function(e){return e.goalFinishDate})),Te=Object(F.a)(je,(function(e){return e.goalSum})),Pe=Object(F.a)(je,(function(e){return e.mediaContent})),Me=Object(F.a)(Pe,(function(e){return e.newElem})),Ie=Object(F.a)(Me,(function(e){return e.type})),We=Object(F.a)(Me,(function(e){return e.url})),Ae=Object(F.a)(Me,(function(e){return e.position})),Be=Object(F.a)(Pe,(function(e){return e.elems})),Fe=Object(F.a)(Pe,(function(e){return e.elemsOrder})),Ge=Object(F.a)(je,(function(e){return e.rewards})),Ye=Object(F.a)(Ge,(function(e){var a=e.newElem;return Object(B.a)({cost:a.cost},a[e.locale])})),He=Object(F.a)(Ge,(function(e){return e.locale})),qe=Object(F.a)(Ge,(function(e){return e.rewardOrder.map((function(a){var t=e.locale,n=e.rewards[a];return Object(B.a)({id:a,cost:n.cost},n[t])}))})),Je={name:xe,campaignType:Re,nameLocale:ke,descriptionLocale:Ue,description:Le,avatar:Se,goalFinishDate:De,goalSum:Te,mediaContent:Pe,mediaContentNewElemType:Ie,mediaContentNewElemUrl:We,mediaContentNewElemPosition:Ae,mediaContentElems:Be,mediaContentElemsOrder:Fe,rewardsNewElem:Ye,rewardsLocale:He,rewards:qe},_e=Object(B.a)(Object(B.a)({},Oe.actions),{},{onSend:be,init:we}),Ve=Object(G.c)({data:Oe.reducer}),Ze=Object(D.e)({name:"locale",initialState:{locale:"enUS"},reducers:{setLocale:function(e,a){e.locale=a.payload}}}),$e=Object(B.a)({},Ze.actions),ze=function(e){return e.locale.locale},Ke=Ze.reducer,Qe=Object(D.c)("campaignTypes/init",Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),Xe=Object(D.e)({name:"campaignTypes",initialState:{types:{}},extraReducers:Object(P.a)({},Qe.fulfilled,(function(e,a){var t={};a.payload.forEach((function(e){var a=e.name,n=e.locale;t=Object(B.a)(Object(B.a)({},t),{},Object(P.a)({},a,n))})),e.types=t}))}),ea=function(e){return e.campaignTypes.types},aa=(Object(F.a)(ea,(function(e){return Object.keys(e)})),ea),ta={init:Qe},na=Xe.reducer,ra=Object(D.c)("mainPage/load",Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var ca=Object(D.e)({name:"mainPage",initialState:{campaigns:{},campaignsByTypes:{},paggination:{}},reducers:{setPage:function(e,a){var t=a.payload,n=t.type,r=t.page;e.paggination[n]=r}},extraReducers:Object(P.a)({},ra.fulfilled,(function(e,a){e.campaigns=a.payload,e.campaignsByTypes=function(e){var a={};return Object.keys(e).forEach((function(t){var n=e[t].type;a=Object(B.a)(Object(B.a)({},a),{},Object(P.a)({},n,a[n]?[].concat(Object(S.a)(a[n]),[t]):[t]))})),a}(a.payload),e.paggination=function(e){var a={};return Object.keys(e).forEach((function(e){a=Object(B.a)(Object(B.a)({},a),{},Object(P.a)({},e,0))})),a}(e.campaignsByTypes)}))}),ia=function(e){return e.mainPage},oa=Object(F.a)(ia,(function(e){return e.campaigns})),la=Object(F.a)(ia,(function(e){return e.campaignsByTypes})),ua=Object(F.a)(ia,(function(e){return e.paggination})),ma=Object(B.a)(Object(B.a)({},ca.actions),{},{load:ra}),sa={campaigns:oa,campaignsByTypes:la,pagination:ua},da=ca.reducer,pa=Object(D.a)({reducer:{mainMenu:I,user:A,campaign:pe,editCampaign:Ve,locale:Ke,campaignTypes:na,mainPage:da},middleware:[].concat(Object(S.a)(Object(D.f)()),[T.a])});function ga(){var e=Object(n.useState)(ze(pa.getState())),a=Object(L.a)(e,2),t=a[0],r=a[1],c=Object(n.useCallback)((function(){var e=ze(pa.getState());t!==e&&r(e)}),[t]);return Object(n.useEffect)((function(){var e=pa.subscribe(c);return function(){e()}}),[c]),t}var Ea={ruRU:{signIn:"\u0412\u043e\u0439\u0442\u0438",signUp:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},enUS:{signIn:"Sign In",signUp:"Sign Up"}};function fa(e){var a=e.className,t=ga(),n=Ea[t];return r.a.createElement(k.a,null,r.a.createElement(R.a,{className:N()(a),onClick:Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.loginWithRedirect();case 2:case"end":return e.stop()}}),e)}))),"aria-label":"sign in"},n.signIn))}var ba=t(228),va=t(564),ha=t(125),wa=t.n(ha),Oa=t(127),ja=t.n(Oa),Ca=t(562),ya=Object(p.a)({iconWrapper:{marginRight:"0.5em"}});function xa(e){var a=e.icon,t=e.text,n=e.classes,c=void 0===n?{root:"",iconWrapper:"",label:"",labelWrapper:""}:n,i=ya();return r.a.createElement(Ca.a,{container:!0,className:N()(c.root),wrap:"nowrap"},r.a.createElement(Ca.a,{item:!0,className:N()(i.iconWrapper,c.iconWrapper)},a),r.a.createElement(Ca.a,{item:!0,className:N()(c.labelWrapper)},r.a.createElement(d.a,{className:N()(c.label)},t)))}var Ra={ruRU:{logout:"\u0412\u044b\u0439\u0442\u0438"},enUS:{logout:"Logout"}},ka=Object(p.a)((function(e){return{button:{color:e.palette.primary.contrastText},menuUsernameText:{marginLeft:"0.5em"}}}));function Ua(e){var a=e.locale,t=void 0===a?"enUS":a,c=e.name,i=e.onProfile,o=e.onLogout,l=ka(),u=Object(n.useState)(null),m=Object(L.a)(u,2),s=m[0],p=m[1],g=Ra[t];return r.a.createElement(k.a,null,r.a.createElement(R.a,{className:l.button,onClick:function(e){return p(e.currentTarget)}},c),r.a.createElement(ba.a,{open:Boolean(s),anchorEl:s,onClose:function(){return p(null)}},r.a.createElement(va.a,{onClick:i},r.a.createElement(xa,{icon:r.a.createElement(wa.a,null),text:c})),r.a.createElement(va.a,{onClick:o},r.a.createElement(ja.a,null),r.a.createElement(d.a,{className:l.menuUsernameText},g.logout))))}var Na=Object(p.a)((function(e){return{button:{color:e.palette.primary.contrastText}}})),La=function(e){var a=Na();return r.a.createElement(fa,Object.assign({className:a.button},e))},Sa=x((function(e){var a=e.isAuthenticated,t=e.name,n=e.onLogout,c=a?Ua:La;return r.a.createElement(c,{name:t,onLogout:n})})),Da=t(587),Ta=t(222),Pa=t.n(Ta),Ma=Object(p.a)((function(e){return{menuButton:{color:e.palette.primary.contrastText},pageName:{marginLeft:"1em",flexGrow:"1",flexShrink:"1"}}}));function Ia(e){var a=e.onMenuButtonClick,t=e.pageName,n=e.onToggleLanguage,c=ga(),i=Ma(),m=g[c];return r.a.createElement(o.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(u.a,{className:i.menuButton,"aria-label":"menu",onClick:a},r.a.createElement(s.a,null)),r.a.createElement(d.a,{className:i.pageName,variant:"h6"},m.pageName[t]),r.a.createElement(u.a,{className:i.menuButton,onClick:n},r.a.createElement(Pa.a,null)),r.a.createElement(Da.a,{xsDown:!0},r.a.createElement(Sa,null))))}var Wa=Object(h.b)()((function(e){var a=e.pageName,t=e.dispatch,n=ga();return r.a.createElement(Ia,{pageName:a,onMenuButtonClick:function(){return t(M())},onToggleLanguage:function(){return t($e.setLocale("ruRU"==n?"enUS":"ruRU"))}})})),Aa=t(20),Ba=Object(h.b)()((function(e){var a=e.dispatch,t=Object(Aa.f)();return Object(n.useEffect)((function(){C.handleRedirectCallback().then((function(){C.getUser().then((function(e){a(W(e.sub,e.name)),t.push("/")}))}))})),r.a.createElement("div",null)}));function Fa(e){return e.mainMenu}var Ga=t(595),Ya=t(563),Ha=t(51),qa=t.n(Ha),Ja=t(572),_a=t(505),Va=t(567),Za=t(568),$a=t(75);function za(e){var a=e.to,t=e.icon,n=e.text,c=t;return r.a.createElement(_a.a,{button:!0,component:$a.b,to:a},r.a.createElement(Va.a,null,r.a.createElement(c,null)),r.a.createElement(Za.a,null,n))}var Ka=t(223),Qa=t.n(Ka),Xa=t(224),et=t.n(Xa),at=t(590),tt=t(569),nt=t(570),rt={ruRU:{profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",logout:"\u0412\u044b\u0439\u0442\u0438"},enUS:{profile:"Profile",logout:"Logout"}},ct=Object(p.a)({root:{boxShadow:"none"}});function it(e){var a=e.name,t=e.onLogout,n=e.locale,c=rt[void 0===n?"enUS":n],i=ct();return r.a.createElement(k.a,null,r.a.createElement(at.a,{square:!0,classes:{root:i.root}},r.a.createElement(tt.a,null,r.a.createElement(d.a,null,a)),r.a.createElement(nt.a,null,r.a.createElement(Ya.a,null,r.a.createElement(_a.a,{button:!0},r.a.createElement(xa,{icon:r.a.createElement(wa.a,null),text:c.profile})),r.a.createElement(_a.a,{button:!0,onClick:t},r.a.createElement(xa,{icon:r.a.createElement(ja.a,null),text:c.logout}))))))}var ot=Object(p.a)({button:{width:"100%"}}),lt=function(e){var a=ot();return r.a.createElement(fa,Object.assign({className:a.button},e))},ut=x((function(e){var a=e.name,t=e.isAuthenticated,n=e.onLogout,c=t?it:lt;return r.a.createElement(c,{name:a,onLogout:n})})),mt={ruRU:{page:{main:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",campaings:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}},enUS:{page:{main:"Main",campaings:"Create new company"}}},st=Object(p.a)({surface:{width:"100vw",maxWidth:"360px"},closeButton:{width:"100%"}});function dt(e){var a=e.locale,t=void 0===a?"enUS":a,n=e.isOpen,c=e.onClose,i=st(),o=mt[t];return r.a.createElement(Ga.a,{anchor:"left",open:n,onClose:c},r.a.createElement(Ya.a,{className:i.surface,component:"nav"},r.a.createElement(R.a,{className:i.closeButton,onClick:c},r.a.createElement(qa.a,null)),r.a.createElement(Ja.a,null),r.a.createElement(Da.a,{smUp:!0},r.a.createElement(ut,null),r.a.createElement(Ja.a,null)),r.a.createElement(za,{to:"/",icon:Qa.a,text:o.page.main}),r.a.createElement(za,{to:"/campaign/create",icon:et.a,text:o.page.campaings})))}t(283);var pt,gt=t(93),Et=(t(284),t(68)),ft=t.n(Et),bt=t(87),vt=t.n(bt),ht=t(52),wt=Object(p.a)({button:{position:"absolute",top:"0",height:"100%",backgroundColor:"transparent",border:"none",outline:"none","&:hover":{backgroundColor:"rgba(0,0,0,0.2)"},"&:active":{backgroundColor:"rgba(0,0,0,0.4)"}},right:{right:"0"},left:{left:"0"},wrapper:{position:"relative",width:"100%"},image:{objectFit:"contain"},icon:{color:"black"}});var Ot=(pt={},Object(P.a)(pt,"image",(function(e){var a=e.src;return r.a.createElement(ht.Image,{publicId:a,width:"100%"})})),Object(P.a)(pt,"video",(function(e){var a=e.src;return r.a.createElement(vt.a,{url:a,width:"100%",height:"100%"})})),pt);function jt(e){var a=e.type,t=e.url,n=Ot[a];return r.a.createElement(gt.d,null,r.a.createElement(n,{src:t}))}function Ct(e){var a=e.value,t=wt();return r.a.createElement(k.a,{className:t.wrapper},r.a.createElement(gt.c,{naturalSlideWidth:2,naturalSlideHeight:1,totalSlides:a.length,infinite:!0},r.a.createElement(gt.e,null,a.map((function(e){return r.a.createElement(jt,Object.assign({key:e.src},e))}))),r.a.createElement(gt.a,{className:N()(t.button,t.left)},r.a.createElement(qa.a,{className:t.icon})),r.a.createElement(gt.b,{className:N()(t.button,t.right)},r.a.createElement(ft.a,{className:t.icon}))))}function yt(){return r.a.createElement("div",null)}var xt=t(88),Rt=t.n(xt),kt=Object(p.a)({root:{marginTop:"0.5em"}}),Ut={ruRU:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},enUS:{description:"Description"}};function Nt(e){var a=e.value,t=ga(),n=Ut[t],c=kt();return r.a.createElement(k.a,{className:c.root},r.a.createElement(d.a,{variant:"h4"},n.description),r.a.createElement(Rt.a,{source:a}))}var Lt=t(573),St={ruRU:{loc:"ru-RU",format:"DD.MM.YYYY",endDate:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",left:"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c",goal:"\u0426\u0435\u043b\u044c"},enUS:{loc:"en-US",format:"MM.DD.YYYY",endDate:"Expiration",left:"Left",goal:"Goal"}},Dt=Object(p.a)({progressRoot:{height:"0.4em",borderRadius:"3px"}});function Tt(e){var a=e.date,t=e.goal,n=e.current,c=ga(),i=Dt(),o=St[c];return r.a.createElement(Ca.a,{container:!0,direction:"column",spacing:3},r.a.createElement(Ca.a,{item:!0,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h3"},o.goal)),r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h3"},t))),r.a.createElement(Ca.a,{item:!0},r.a.createElement(Lt.a,{classes:{root:i.progressRoot},variant:"determinate",value:n/t*100}),r.a.createElement(Ca.a,{item:!0,container:!0,justify:"flex-end",direction:"row",fullWidth:!0},r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h6"},n," \u0438\u0437 ",t)))),r.a.createElement(Ca.a,{item:!0},r.a.createElement(Ca.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Ca.a,{item:!0},o.endDate),r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h6",component:"span"},Intl.DateTimeFormat(o.loc).format(a)))),r.a.createElement(Ca.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Ca.a,{item:!0},o.left),r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h6",component:"span"},new Intl.RelativeTimeFormat(o.loc).format(Math.trunc((a-Date.now())/1e3/60/60/24),"day"))))))}var Pt=t(574),Mt=Object(p.a)({root:{padding:"0.5em"}}),It=function(e){var a=e.onClickButton,t=e.label,n=e.description,c=e.cost,i=Mt();return r.a.createElement(Pt.a,{className:i.root},r.a.createElement(Ca.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(Ca.a,{item:!0,xs:12,container:!0,justify:"space-around"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h6"},t))),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(Rt.a,{source:n})),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:a,fullWidth:!0},c))))},Wt=Object(p.a)({root:{marginTop:"0.5em"}});function At(e){var a=e.cost,t=e.locale,n=e.onClickButton,c=ga();return r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(It,{cost:a,label:t[c].name,description:t[c].description,onClickButton:n}))}function Bt(e){var a=e.value,t=(e.onClickButton,Wt());return r.a.createElement(Ca.a,{container:!0,alignItems:"center",spacing:2,className:t.root},a.map((function(e){return r.a.createElement(At,Object.assign({key:e.label},e))})))}function Ft(){return r.a.createElement("div",null)}function Gt(){return r.a.createElement("div",null)}var Yt=t(591),Ht=Object(p.a)({userRatingStar:{color:"darkorange"}}),qt=function(e){var a=e.user,t=e.average,n=e.onChange,c=Ht();return r.a.createElement(Yt.a,{classes:{iconFilled:a?c.userRatingStar:void 0,iconHover:c.userRatingStar},precision:.5,value:a||t,onChange:function(e,a){n(a)}})},Jt=t(130),_t=t.n(Jt);function Vt(e){var a=e.id,t=e.label,c=e.rating,i=e.onRatingChange,o=e.media,l=e.goalSum,m=e.goalEndDate,s=e.goalCurrent,p=e.description,g=e.rewards,E=e.canEdit,f=ga(),b=Object(Aa.f)(),v=Object(n.useCallback)((function(){b.push("/campaign/edit/".concat(a))}),[b,a]);return r.a.createElement(Ca.a,{container:!0,direction:"column"},r.a.createElement(Ca.a,{container:!0,justify:"space-between"},r.a.createElement(Ca.a,{item:!0,xs:11},r.a.createElement(d.a,{variant:"h3"},t[f]||"")),r.a.createElement(Ca.a,{item:!0,xs:1},E?r.a.createElement(u.a,{onClick:v},r.a.createElement(_t.a,null)):r.a.createElement("div",null))),r.a.createElement(Ca.a,{item:!0}),r.a.createElement(Ca.a,{item:!0},r.a.createElement(qt,{user:c.user,average:c.average,onChange:i})),r.a.createElement(Ca.a,{item:!0},r.a.createElement(yt,null)),r.a.createElement(Ca.a,{item:!0,container:!0,spacing:2},r.a.createElement(Ca.a,{item:!0,sm:8,xs:12},r.a.createElement(Ct,{value:o})),r.a.createElement(Ca.a,{item:!0,sm:4,xs:12},r.a.createElement(Tt,{date:m,goal:l,current:s}))),r.a.createElement(Ca.a,{item:!0,container:!0,spacing:2},r.a.createElement(Ca.a,{item:!0,sm:8,xs:12},r.a.createElement(Nt,{value:p[f]||""}),r.a.createElement(Gt,null)),r.a.createElement(Ca.a,{item:!0,sm:4,xs:12},r.a.createElement(Bt,{value:g}))),r.a.createElement(Ca.a,{item:!0},r.a.createElement(Ft,null)))}var Zt,$t,zt,Kt,Qt,Xt,en=Object(h.b)((function(e){return{label:de.label(e),userRating:de.userRating(e),averageRating:de.averageRating(e),media:de.media(e),goalSum:de.goalSum(e),goalCurrent:de.goalCurrent(e),goalEndDate:de.goalEndDate(e),description:de.description(e),rewards:de.rewards(e),owner:de.owner(e),user:j(e)}}))((function(e){var a=e.label,t=e.userRating,c=e.averageRating,i=e.media,o=e.dispatch,l=e.goalSum,u=e.goalCurrent,m=e.goalEndDate,s=e.description,d=e.rewards,p=e.user,g=e.owner,E=e.match.params.id,f=Object(n.useCallback)((function(e){o(ce.setUserRating(e))}),[o]);return Object(n.useEffect)((function(){o(ce.initPage(E))}),[o,E]),r.a.createElement(Vt,{id:E,label:a,canEdit:p===g,rating:{user:t,average:c},onRatingChange:f,media:i,goalSum:l,goalCurrent:u,goalEndDate:m,description:s,rewards:d})})),an=t(579),tn=t(589),nn=t(577),rn=t(597),cn=(Zt={},Object(P.a)(Zt,ge,"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"),Object(P.a)(Zt,fe,"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435"),Object(P.a)(Zt,Ee,"\u0421\u043f\u043e\u0440\u0442"),Zt),on=($t={},Object(P.a)($t,ge,"Education"),Object(P.a)($t,fe,"Health"),Object(P.a)($t,Ee,"Sport"),$t),ln=t(131),un=t.n(ln),mn=(t(502),function(e){var a=e.onChange,t=e.value,n=e.id;return r.a.createElement(un.a,{id:n,value:t,onChange:a,options:{toolbar:["bold","italic","heading","|","quote","ordered-list","unordered-list","|","link","image"]}})}),sn=(zt={},Object(P.a)(zt,"enUS","English"),Object(P.a)(zt,"ruRU","\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),zt),dn=function(e){var a=e.value,t=e.onChange,n=e.id,c=e.name,i=e.fullWidth;return r.a.createElement(tn.a,{id:n,name:c,value:a,onChange:t,fullWidth:i},Object.keys(sn).map((function(e){var a=sn[e];return r.a.createElement(va.a,{key:e,value:e},a)})))},pn=t(594),gn=function(e){var a=e.text,t=e.locale,n=e.onTextChange,c=e.onLocaleChange,i=e.nameText,o=e.nameLocale,l=e.textLabel;return r.a.createElement(Ca.a,{container:!0,alignItems:"flex-end",spacing:1},r.a.createElement(Ca.a,{item:!0,xs:9},r.a.createElement(pn.a,{name:i,fullWidth:!0,label:l,value:a,onChange:function(e){return n(e.target.value)}})),r.a.createElement(Ca.a,{item:!0,xs:3},r.a.createElement(dn,{name:o,value:t,onChange:function(e){return c(e.target.value)},fullWidth:!0})))},En=(Kt={},Object(P.a)(Kt,"ruRU",{remove:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(P.a)(Kt,"enUS",{remove:"Remove",add:"Add"}),Kt),fn=function(e){var a=e.img,t=e.onChange,c=En[ga()],i=Object(n.useRef)({open:function(){}}),o=Object(n.useCallback)((function(){i.current.open()}),[i]),l=Object(n.useCallback)((function(){t("")}),[t]),u=a?l:o;return Object(n.useEffect)((function(){i.current=window.cloudinary.createUploadWidget({cloudName:"dspvo2e4p",uploadPreset:"kpuvrpa7"},(function(e,a){"success"===a.event&&t(a.info.public_id)}))}),[t]),r.a.createElement(Ca.a,{container:!0,direction:"column",alignItems:"center"},a?r.a.createElement(Ca.a,{item:!0},r.a.createElement(ht.Image,{publicId:a,width:"300"})):r.a.createElement("div",null),r.a.createElement(Ca.a,{item:!0},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:u},a?c.remove:c.add)))},bn=t(583),vn=(Qt={},Object(P.a)(Qt,"ruRU",{costLabel:"\u0426\u0435\u043b\u044c",dateLabel:"\u0414\u0430\u0442\u0430"}),Object(P.a)(Qt,"enUS",{costLabel:"Goal",dateLabel:"Date"}),Qt),hn=function(e){var a=e.locale,t=void 0===a?"enUS":a,n=e.sum,c=e.onSumChange,i=e.date,o=e.onDateChange,l=vn[t];return r.a.createElement(Ca.a,{container:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(Ca.a,{item:!0,xs:12,sm:6},r.a.createElement(pn.a,{fullWidth:!0,label:l.costLabel,value:n,onChange:function(e){return c(e.target.value)},xs:12})),r.a.createElement(Ca.a,{item:!0,xs:12,sm:6},r.a.createElement(bn.a,{value:i,onChange:o,fullWidth:!0})))},wn=t(585),On=t(578),jn=function(e){var a=e.url,t=e.onChange;return r.a.createElement(fn,{img:a,onChange:t})},Cn=function(e){var a=e.url,t=e.onChange;return r.a.createElement(k.a,null,r.a.createElement(pn.a,{label:"URL",fullWidth:!0,value:a,onChange:function(e){return t(e.target.value)}}),r.a.createElement(vt.a,{url:a,light:!0,width:"100%"}))},yn=Object(p.a)({text:{maxWidth:"2em"}}),xn=function(e){var a=e.value,t=e.onChange,n=e.label,c=yn();return r.a.createElement(k.a,null,r.a.createElement(u.a,{onClick:function(){return t(a-1)}},r.a.createElement(qa.a,null)),r.a.createElement(pn.a,{classes:{root:c.text},value:a,onChange:function(e){return t(e.target.value)},label:n}),r.a.createElement(u.a,{onClick:function(){return t(a+1)}},r.a.createElement(ft.a,null)))},Rn=(Xt={},Object(P.a)(Xt,"ruRU",{image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",video:"\u0412\u0438\u0434\u0435\u043e",button:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(P.a)(Xt,"enUS",{image:"Image",video:"Video",button:"Add"}),Xt);function kn(e){switch(e){case"image":return 0;case"video":return 1;default:throw new Error("Wrong media content ".concat(e))}}function Un(e){var a=e.type,t=Object(v.a)(e,["type"]);switch(a){case"image":return r.a.createElement(jn,t);case"video":return r.a.createElement(Cn,t);default:return r.a.createElement("div",null)}}var Nn,Ln=function(e){var a=e.type,t=void 0===a?"image":a,n=e.onChangeType,c=e.url,i=e.onChangeUrl,o=e.position,l=e.onChangePosition,u=e.onAdd,m=ga(),s=Rn[m];return r.a.createElement(k.a,null,r.a.createElement(wn.a,{value:kn(t),onChange:function(e,a){n(function(e){switch(e){case 0:return"image";case 1:return"video";default:throw new Error("Wrong value ".concat(e))}}(a))},fullWidth:!0,centered:!0},r.a.createElement(On.a,{label:s.image}),r.a.createElement(On.a,{label:s.video})),r.a.createElement(an.a,null,r.a.createElement(Un,{type:t,url:c,onChange:i}),r.a.createElement(Ca.a,{container:!0,direction:"column",alignItems:"center",spacing:1},r.a.createElement(Ca.a,{item:!0},r.a.createElement(xn,{value:o,onChange:l,label:"Position"})),r.a.createElement(Ca.a,{item:!0},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:u},s.button)))))},Sn=Object(p.a)({card:{width:"15em"}}),Dn=(Nn={},Object(P.a)(Nn,"ruRU",{delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(P.a)(Nn,"enUS",{delete:"Remove"}),Nn);function Tn(e){var a=e.url;return r.a.createElement(k.a,null,r.a.createElement(ht.Image,{publicId:a,width:"300"}))}function Pn(e){var a=e.url;return r.a.createElement(k.a,null,r.a.createElement(vt.a,{url:a,light:!0,width:"100%"}))}function Mn(e){var a,t=e.type,n=e.url,c=e.onChangePosition,i=e.position,o=e.onDelete,l=ga(),m=Dn[l],s=Sn();if("image"==t)a=Tn;else{if("video"!=t)throw Error("Wrong media type ".concat(t));a=Pn}return r.a.createElement(Ca.a,{item:!0},r.a.createElement(Ca.a,{container:!0,alignItems:"center"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(u.a,{onClick:function(){return c(i-1)}},r.a.createElement(qa.a,null))),r.a.createElement(Ca.a,{item:!0},r.a.createElement(Pt.a,{className:s.card},r.a.createElement(a,{url:n}),r.a.createElement(Ca.a,{container:!0,justify:"space-around"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(R.a,{color:"primary",onClick:o},m.delete))))),r.a.createElement(Ca.a,{item:!0},r.a.createElement(u.a,{onClick:function(){return c(i+1)}},r.a.createElement(ft.a,null)))))}var In,Wn=function(e){var a=e.value,t=e.valueOrder,n=e.onChangePosition,c=e.onDelete;return r.a.createElement(Ca.a,{container:!0,direction:"flex-start",alignItems:"center",spacing:1},t?t.map((function(e,t){return r.a.createElement(Mn,{key:e,url:e,type:a[e].type,position:t,onChangePosition:function(a){n(e,a)},onDelete:function(){return c(e)}})})):r.a.createElement("div",null))},An=function(e){var a=e.newElemType,t=e.onChangeNewElemType,n=e.newElemUrl,c=e.onChangeNewElemUrl,i=e.newElemPosition,o=e.onChangeNewElemPosition,l=e.onChangePosition,u=e.onDelete,m=e.onAdd,s=e.elems,d=e.elemsOrder;return r.a.createElement(Ca.a,{container:!0,spacing:1},r.a.createElement(Ca.a,{item:!0,sm:4,xs:12},r.a.createElement(Ln,{type:a,onChangeType:t,url:n,onChangeUrl:c,position:i,onChangePosition:o,onAdd:m})),r.a.createElement(Ca.a,{item:!0,sm:8,xs:12},r.a.createElement(Wn,{onChangePosition:l,onDelete:u,value:s,valueOrder:d})))},Bn=(In={},Object(P.a)(In,"ruRU",{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",cost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(P.a)(In,"enUS",{name:"Name",cost:"Cost",add:"Add"}),In),Fn=function(e){var a=e.name,t=e.description,n=e.cost,c=e.onChange,i=e.onAdd,o=Bn[ga()];return r.a.createElement(Ca.a,{container:!0,spacing:1,justify:"space-around"},r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(pn.a,{label:o.name,value:a,onChange:function(e){return c("name",e.target.value)},fullWidth:!0})),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(un.a,{value:t,onChange:function(e){return c("description",e)}})),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(pn.a,{label:o.cost,value:n,onChange:function(e){return c("cost",e.target.value)},fullWidth:!0})),r.a.createElement(Ca.a,{item:!0,xs:4},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:i},o.add)))},Gn=t(225),Yn=t.n(Gn);function Hn(e){var a=e.name,t=e.description,c=e.cost,i=e.id,o=e.onDelete,l=e.onChangePosition,m=e.position,s=e.onEdit,d=Object(n.useCallback)((function(e){l(i,e)}),[i,l]);return r.a.createElement(Ca.a,{item:!0,sm:4,xs:12,container:!0,alignItems:"flex-start",wrap:"nowrap"},r.a.createElement(Ca.a,{item:!0,xs:2,container:!0,direction:"column"},r.a.createElement(u.a,{onClick:function(e){return s(i)}},r.a.createElement(_t.a,null)),r.a.createElement(u.a,{onClick:function(e){d(m-1)}},r.a.createElement(qa.a,null))),r.a.createElement(Ca.a,{item:!0,xs:8},r.a.createElement(It,{label:a,description:t,cost:c})),r.a.createElement(Ca.a,{item:!0,xs:2,container:!0,direction:"column",alignItems:"flex-start",wrap:"nowrap"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(u.a,{onClick:function(e){o(i)}},r.a.createElement(Yn.a,null))),r.a.createElement(Ca.a,{item:!0},r.a.createElement(u.a,{onClick:function(e){d(m+1)}},r.a.createElement(ft.a,null)))),r.a.createElement(Ca.a,{item:!0,xs:6}))}var qn,Jn,_n=function(e){var a=e.rewards,t=e.onChangePosition,n=e.onDelete,c=e.onEdit;return r.a.createElement(Ca.a,{container:!0,spacing:2},a?a.map((function(e,a){return r.a.createElement(Hn,Object.assign({key:e.name,position:a},e,{onChangePosition:t,onDelete:n,onEdit:c}))})):r.a.createElement("div",null))},Vn=(qn={},Object(P.a)(qn,"ruRU",{label:"\u041d\u0430\u0433\u0440\u0430\u0434\u044b"}),Object(P.a)(qn,"enUS",{label:"Rewards"}),qn),Zn=function(e){var a=e.newElem,t=e.onChangeNewElem,n=e.locale,c=e.onChangeLocale,i=e.rewards,o=e.onAdd,l=e.onChangePosition,u=e.onDelete,m=e.onEdit,s=Vn[ga()];return r.a.createElement(Ca.a,{container:!0,spacing:1},r.a.createElement(Ca.a,{item:!0,xs:12,sm:12,container:!0,spacing:1,alignItems:"center"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h5"},s.label)),r.a.createElement(Ca.a,{item:!0},r.a.createElement(dn,{value:n,onChange:function(e){return c(e.target.value)}}))),r.a.createElement(Ca.a,{item:!0,sm:6,xs:12},r.a.createElement(Fn,Object.assign({},a,{onChange:t,onAdd:o}))),r.a.createElement(Ca.a,{item:!0,sm:6,xs:12,container:!0,direction:"column",justify:"space-around"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(It,{label:a.name,description:a.description,cost:a.cost}))),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(_n,{rewards:i,onChangePosition:l,onDelete:u,onEdit:m})))},$n=(Jn={},Object(P.a)(Jn,"ruRU",{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",header:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0432\u0430\u0448\u0443 \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e!",campaignTypes:cn,campaignTypeLabel:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",descriptionLabel:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",avatarLabel:"\u0410\u0432\u0430\u0442\u0430\u0440",goalLabel:"\u0426\u0435\u043b\u044c",mediaContentLabel:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438",applyButton:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",cancelButton:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(P.a)(Jn,"enUS",{name:"Name",header:"Create you new company!",campaignTypes:on,campaignTypeLabel:"Category",descriptionLabel:"Description",avatarLabel:"Avatar",goalLabel:"Goal",mediaContentLabel:"Carousel content",applyButton:"Apply",cancelButton:"Cancel"}),Jn),zn=Object(p.a)({header:{marginBottom:"1em"}});var Kn=function(e){var a,t=e.name,n=e.setName,c=e.nameLocale,i=e.setNameLocale,o=e.campaignType,l=e.setCampaignType,u=e.description,m=e.descriptionLocale,s=e.setDescription,p=e.setDescriptionLocale,g=e.avatar,E=e.setAvatar,f=e.goalFinishDate,b=e.goalSum,v=e.setGoalFinishDate,h=e.setGoalSum,w=e.setMediaContentNewElemType,O=e.mediaContent,j=e.setMediaContentNewElemUrl,C=e.setMediaContentNewElemPosition,y=e.addMediaContent,x=e.changeMediaContentPosition,k=e.removeMediaContent,U=e.onChangeRewardsNewElem,N=e.rewardsNewElem,L=e.onChangeRewardsLocale,S=e.rewardsLocale,D=e.addReward,T=e.rewards,M=e.onChangeRewardPosition,I=e.onDeleteReward,W=e.onEditReward,A=e.onApply,F=e.onCancel,G=e.campaignTypes,Y=ga(),H=$n[Y],q=zn();return r.a.createElement(Ca.a,{container:!0},r.a.createElement(Ca.a,{item:!0,container:!0,xs:12,justify:"space-around",classes:{root:q.header}},r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h4"},H.header))),r.a.createElement(Ca.a,{item:!0,container:!0,xs:12,spacing:3},r.a.createElement(Ca.a,{item:!0,container:!0,sm:8,xs:12},r.a.createElement(Ca.a,{container:!0,item:!0,xs:12,spacing:1},r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(gn,{text:t,locale:c,onTextChange:n,onLocaleChange:i,textLabel:H.name})),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(nn.a,{fullWidth:!0},r.a.createElement(rn.a,{htmlFor:"campaignTypeInput"},H.campaignTypeLabel),r.a.createElement(tn.a,{id:"campaignTypeInput",value:o,onChange:function(e){return l(e.target.value)},fullWidth:!0},G?(a=function(){var e={};return Object.keys(G).forEach((function(a){e=Object(B.a)(Object(B.a)({},e),{},Object(P.a)({},a,G[a][Y]))})),e}(),Object.keys(a).map((function(e){return{value:e,label:a[e]}})).map((function(e){return r.a.createElement(va.a,{key:e.value,value:e.value},e.label)}))):r.a.createElement("div",null)))))),r.a.createElement(Ca.a,{item:!0,sm:4,xs:12},r.a.createElement(Ca.a,{item:!0,container:!0,justify:"space-around"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h5"},H.avatarLabel))),r.a.createElement(Ca.a,{item:!0},r.a.createElement(fn,{img:g,onChange:E}))),r.a.createElement(Ca.a,{item:!0,container:!0,spacing:1,xs:12},r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"h5"},H.goalLabel)),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(hn,{sum:b,onSumChange:h,date:f,onDateChange:v}))),r.a.createElement(Ca.a,{item:!0,container:!0,xs:12,spacing:1},r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"h5"},H.mediaContentLabel)),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(An,{newElemType:O.newElem.type,onChangeNewElemType:w,newElemUrl:O.newElem.url,onChangeNewElemUrl:j,newElemPosition:O.newElem.position,onChangeNewElemPosition:C,onChangePosition:x,onDelete:k,onAdd:y,elems:O.elems,elemsOrder:O.elemsOrder}))),r.a.createElement(Ca.a,{item:!0,container:!0,xs:12,spacing:1},r.a.createElement(Ca.a,{item:!0,container:!0,spacing:1,xs:12},r.a.createElement(Ca.a,{item:!0},r.a.createElement(d.a,{variant:"h5"},H.descriptionLabel)),r.a.createElement(Ca.a,{item:!0},r.a.createElement(dn,{id:"selectDescriptionInputLocale",name:"descriptionLocale",value:m,onChange:function(e){return p(e.target.value)}}))),r.a.createElement(Ca.a,{container:!0,item:!0,xs:12},r.a.createElement(Ca.a,{item:!0,sm:6,xs:12},r.a.createElement(mn,{value:u,onChange:function(e){return s(e)}})),r.a.createElement(Ca.a,{item:!0,sm:6,xs:12},r.a.createElement(Rt.a,{source:u}))),r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(Zn,{onChangeNewElem:U,newElem:N,onChangeLocale:L,locale:S,onAdd:D,rewards:T,onChangePosition:M,onDelete:I,onEdit:W})))),r.a.createElement(Ca.a,{item:!0,container:!0,justify:"center"},r.a.createElement(Ca.a,{item:!0},r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:A},H.applyButton)),r.a.createElement(Ca.a,{item:!0},r.a.createElement(R.a,{cariant:"contained",color:"primary",onClick:F},H.cancelButton))))},Qn=Object(h.b)((function(e){return{name:Je.name(e),campaignType:Je.campaignType(e),nameLocale:Je.nameLocale(e),description:Je.description(e),descriptionLocale:Je.descriptionLocale(e),avatar:Je.avatar(e),goalFinishDate:Je.goalFinishDate(e),goalSum:Je.goalSum(e),mediaContent:Je.mediaContent(e),rewardsNewElem:Je.rewardsNewElem(e),rewardsLocale:Je.rewardsLocale(e),rewards:Je.rewards(e),campaignTypes:aa(e)}}),(function(e){return{setName:function(a){e(_e.setName(a))},setCampaignType:function(a){e(_e.setCampaignType(a))},setNameLocale:function(a){e(_e.setNameLocale(a))},setDescriptionLocale:function(a){e(_e.setDescriptionLocale(a))},setDescription:function(a){e(_e.setDescription(a))},setAvatar:function(a){e(_e.setAvatar(a))},setGoalFinishDate:function(a){e(_e.setGoalFinishDate(a))},setGoalSum:function(a){e(_e.setGoalSum(a))},setMediaContentNewElemType:function(a){e(_e.setMediaContentNewElemType(a))},setMediaContentNewElemUrl:function(a){e(_e.setMediaContentNewElemUrl(a))},setMediaContentNewElemPosition:function(a){e(_e.setMediaContentNewElemPosition(a))},addMediaContent:function(){e(_e.addMediaContent()),e(_e.clearMediaContentNewElem())},removeMediaContent:function(a){e(_e.removeMediaContent(a))},changeMediaContentPosition:function(a,t){e(_e.changeMediaContentPosition({url:a,position:t}))},onChangeRewardsNewElem:function(a,t){var n;switch(a){case"name":n=_e.setRewardsNewElemName(t);break;case"description":n=_e.setRewardsNewElemDescription(t);break;case"cost":n=_e.setRewardsNewElemCost(t);break;default:return}e(n)},onChangeRewardsLocale:function(a){e(_e.setRewardsLocale(a))},addReward:function(){e(_e.addReward())},onChangeRewardPosition:function(a,t){e(_e.changeRewardPosition({id:a,position:t}))},onDeleteReward:function(a){e(_e.removeReward(a))},onEditReward:function(a){e(_e.editReward(a)),e(_e.removeReward(a))},onApply:function(){e(_e.onSend())},init:function(a){e(_e.init(a))}}}))((function(e){var a=e.match.params.id,t=e.init;return Object(n.useEffect)((function(){a&&t(a)}),[a,t]),r.a.createElement(Kn,e)})),Xn=t(229),er=t(580),ar=t(581),tr=t(582),nr=function(e){var a=e.img,t=e.id,c=e.name,i=Object(Aa.f)(),o=Object(n.useCallback)((function(){i.push("/campaign/".concat(t))}),[i,t]);return r.a.createElement(Pt.a,null,r.a.createElement(er.a,{onClick:o},r.a.createElement(ar.a,null,r.a.createElement(ht.Image,{publicId:a,width:"300"})),r.a.createElement(tr.a,null,r.a.createElement(d.a,{variant:"h6"},c))))},rr=t(586),cr=function(e){var a=e.campaigns,t=e.name,n=e.page,c=e.onChange,i=ga(),u=Math.floor(a.length/6),m=6*n;return r.a.createElement(Xn.a,null,r.a.createElement(o.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(d.a,{variant:"h5"},t?t[i]:"blank"))),r.a.createElement(Ca.a,{container:!0,spacing:1,justify:"space-around",alignItems:"center"},a?a.slice(m,m+6).map((function(e){return r.a.createElement(Ca.a,{item:!0,key:e.id},r.a.createElement(nr,{img:e.avatar,name:e.names[i],id:e.id}))})):r.a.createElement("div",null)),u?r.a.createElement(rr.a,{count:u,page:n,onChange:c}):r.a.createElement("div",null))};function ir(e){return r.a.createElement(Ca.a,{item:!0,xs:12},r.a.createElement(cr,e))}var or=function(e){var a=e.campaigns,t=e.types,n=e.pagination,c=e.typeNames,i=e.onChangePage;return r.a.createElement(k.a,null,r.a.createElement(Ca.a,{container:!0},function(e,a,t,n,c){return a==={}?r.a.createElement("div",null):Object.keys(a).map((function(i){return r.a.createElement(ir,{name:n[i],campaigns:a[i].map((function(a){return Object(B.a)({id:a},e[a])})),page:t[i],onChange:function(e){return c(i,e)}})}))}(a,t,n,c,i)))};var lr=Object(h.b)((function(e){return{pagination:sa.pagination(e),campaigns:sa.campaigns(e),types:sa.campaignsByTypes(e),typeNames:aa(e)}}),(function(e){return{loadCampaigns:function(){return e(ma.load())},onChangePage:function(a,t){return e(ma.setPage({type:a,page:t}))}}}))((function(e){var a=e.loadCampaigns,t=Object(v.a)(e,["loadCampaigns"]);return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(or,t)})),ur=Object(p.a)({mainContent:{marginTop:"3em"}});var mr=Object(h.b)((function(e){return{menuIsOpen:Fa(e)}}))((function(e){var a=e.menuIsOpen,t=e.dispatch,c=ur();return Object(n.useEffect)((function(){C.getTokenSilently().then((function(){return C.getUser().then((function(e){e&&t(W(e.sub,e.name))}))})).catch((function(e){return console.log(e)}))}),[t]),Object(n.useEffect)((function(){t(ta.init())}),[t]),r.a.createElement("div",null,r.a.createElement($a.a,null,r.a.createElement(Wa,{pageName:"main"}),r.a.createElement(dt,{isOpen:a,onClose:function(){return t(M())}}),r.a.createElement(an.a,{className:c.mainContent},r.a.createElement(Aa.c,null,r.a.createElement(Aa.a,{exact:!0,path:"/"},r.a.createElement(lr,null)),r.a.createElement(Aa.a,{exact:!0,path:"/auth"},r.a.createElement(Ba,null)),r.a.createElement(Aa.a,{exact:!0,path:"/campaign/create",component:Qn}),r.a.createElement(Aa.a,{exact:!0,path:"/campaign/edit/:id",component:Qn}),r.a.createElement(Aa.a,{exact:!0,path:"/campaign/:id",component:en})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var sr=t(29),dr=t(226);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:pa},r.a.createElement(sr.a,{utils:dr.a},r.a.createElement(ht.CloudinaryContext,{cloudName:"dspvo2e4p"},r.a.createElement(mr,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[252,12,13]]]);
//# sourceMappingURL=main.896bd70a.chunk.js.map